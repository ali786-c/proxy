import{k as i,j as o,v as t,w as s,M as p,P as K,U as v,x as l,E as F,y as S,z as b,c as f}from"./index-D3tbSPqP.js";import{u}from"./useMutation-DiuQ4335.js";function h(){const e=o();return u({mutationFn:async n=>t.post("/profile",p,n),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function C(){return i({queryKey:["stats"],queryFn:async()=>t.get("/stats",s()),refetchInterval:1e3*60*5})}function _(e="7d"){return i({queryKey:["usage",e],queryFn:async()=>t.get(`/me/usage?range=${encodeURIComponent(e)}`,v),staleTime:1e3*60*5})}function w(){return i({queryKey:["events"],queryFn:async()=>t.get("/me/events",l(F))})}function A(){return i({queryKey:["invoices"],queryFn:async()=>t.get("/invoices",l(S))})}function P(){const e=o(),n=i({queryKey:["tickets"],queryFn:async()=>(await t.get("/support/tickets",l(s()))).map(a=>{var y;return{...a,messages:((y=a.messages)==null?void 0:y.map(r=>({...r,sender:r.is_admin_reply?"support":"client",text:r.message,time:r.created_at,attachment_url:r.attachment_url,attachment_name:r.attachment_name})))||[]}})}),m=u({mutationFn:async({subject:c,message:a,priority:y,attachment:r})=>{const d=new FormData;return d.append("subject",c),d.append("message",a),d.append("priority",y),r&&d.append("attachment",r),t.post("/support/tickets",s(),d)},onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})}),g=u({mutationFn:async({id:c,message:a,attachment:y})=>{const r=new FormData;return r.append("message",a),y&&r.append("attachment",y),t.post(`/support/tickets/${c}/reply`,s(),r)},onSuccess:()=>{e.invalidateQueries({queryKey:["tickets"]}),e.invalidateQueries({queryKey:["admin","tickets"]})}}),q=u({mutationFn:async({id:c,status:a})=>t.post(`/admin/support/tickets/${c}/status`,s(),{status:a}),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...n,createTicket:m,replyTicket:g,updateStatus:q}}function B(){return i({queryKey:["products"],queryFn:async()=>t.get("/products",l(b))})}function $(){const e=o();return u({mutationFn:async n=>t.post("/proxies/generate",K,n),onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function x(){return i({queryKey:["proxy-settings"],queryFn:async()=>f.getProxySettings(),staleTime:1e3*60*60})}function T(){return i({queryKey:["referrals"],queryFn:async()=>f.getReferralStats()})}function D(){const e=o(),n=i({queryKey:["admin","tickets"],queryFn:async()=>(await t.get("/admin/support/tickets",l(s()))).map(a=>{var y,r;return{id:String(a.id),user:((y=a.user)==null?void 0:y.email)||"Unknown",subject:a.subject,status:a.status,priority:a.priority==="normal"?"medium":a.priority,created_at:a.created_at,updated_at:a.updated_at,messages:((r=a.messages)==null?void 0:r.map(d=>({sender:d.is_admin_reply?"support":"client",text:d.message,time:d.created_at,attachment_url:d.attachment_url,attachment_name:d.attachment_name})))||[]}})}),m=u({mutationFn:async({id:c,message:a,attachment:y})=>{const r=new FormData;return r.append("message",a),y&&r.append("attachment",y),t.post(`/admin/support/tickets/${c}/reply`,p,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}}),g=u({mutationFn:async({id:c,status:a})=>t.post(`/admin/support/tickets/${c}/status`,p,{status:a}),onSuccess:()=>e.invalidateQueries({queryKey:["admin","tickets"]})}),q=u({mutationFn:async c=>{await t.delete(`/admin/support/tickets/${c}`,p)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}});return{...n,replyTicket:m,updateStatus:g,deleteTicket:q}}function U(e){return i({queryKey:["admin","payment-gateways",e],queryFn:async()=>{const n=e?"/admin/payment-gateways?refresh=true":"/admin/payment-gateways";return t.get(n,s())}})}function R(){return i({queryKey:["blog","posts"],queryFn:async()=>t.get("/blog",l(s()))})}function j(e){return i({queryKey:["blog","post",e],queryFn:async()=>t.get(`/blog/${e}`,s()),enabled:!!e})}function I(){return i({queryKey:["admin","blog"],queryFn:async()=>t.get("/admin/blog",l(s()))})}function E(){const e=o();return u({mutationFn:n=>t.post("/admin/blog",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function G(){const e=o();return u({mutationFn:({id:n,data:m})=>t.put(`/admin/blog/${n}`,s(),m),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function M(){const e=o();return u({mutationFn:n=>t.delete(`/admin/blog/${n}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function z(){const e=o();return u({mutationFn:({id:n,is_draft:m})=>t.post(`/admin/blog/${n}/publish`,s(),{is_draft:m}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]})}})}function H(){return i({queryKey:["admin","blog","automation"],queryFn:()=>t.get("/admin/blog/automation",s())})}function L(){const e=o();return u({mutationFn:n=>t.post("/admin/blog/automation/settings",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function J(){const e=o();return u({mutationFn:n=>t.post("/admin/blog/automation/keywords",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function N(){const e=o();return u({mutationFn:n=>t.delete(`/admin/blog/automation/keywords/${n}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function O(){const e=o();return u({mutationFn:n=>t.post("/admin/blog/automation/trigger",s(),n||{}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]}),e.invalidateQueries({queryKey:["admin","blog","automation"]})}})}function V(){return i({queryKey:["admin","alerts","config"],queryFn:async()=>t.get("/admin/alerts/config",s())})}function W(){const e=o();return u({mutationFn:n=>t.patch("/admin/alerts/config",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","alerts","config"]})})}function X(e){return i({queryKey:["admin","fraud","signals",e],queryFn:async()=>{const n=e!==void 0?`/admin/fraud/signals?resolved=${e}`:"/admin/fraud/signals";return t.get(n,l(s()))}})}function Y(){return i({queryKey:["admin","fraud","risk-scores"],queryFn:async()=>t.get("/admin/fraud/risk-scores",l(s()))})}function Z(){return i({queryKey:["admin","fraud","login-history"],queryFn:async()=>t.get("/admin/fraud/login-history",l(s()))})}function ee(){const e=o();return u({mutationFn:n=>t.put(`/admin/fraud/signals/${n}/resolve`,s()),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","fraud","signals"]}),e.invalidateQueries({queryKey:["admin-stats"]})}})}export{X as A,Y as B,Z as C,ee as D,j as a,_ as b,C as c,B as d,x as e,$ as f,w as g,A as h,T as i,P as j,h as k,I as l,E as m,G as n,M as o,z as p,H as q,L as r,J as s,N as t,R as u,O as v,V as w,W as x,U as y,D as z};
