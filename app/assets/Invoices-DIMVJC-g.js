import{j as e,x as c,y as h,z as j,A as u,E as f,G as N}from"./ui-BkJV2AdO.js";import{r as g,D as n,v as d,t as b,aH as y}from"./vendor-BJanyxg7.js";import{S as v}from"./SEOHead-CIRbADKl.js";import{C as w,c as D}from"./card-l-SRMqus.js";import{T as C,a as S,b as o,c as t,d as T,e as r}from"./table-8_4vQSbC.js";import{L as E,B as x}from"./index-D3tbSPqP.js";import{h as _}from"./use-backend-DTU-Ni94.js";import{E as I}from"./EmptyState-YcMDKMNH.js";import"./useMutation-DiuQ4335.js";const m={paid:"default",completed:"default",pending:"secondary",failed:"destructive"};function O(){const{data:i,isLoading:p}=_(),[s,l]=g.useState(null);return p?e.jsx(E,{}):e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Invoices",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Invoices"}),e.jsxs(c,{variant:"outline",size:"sm",className:"gap-1.5",children:[e.jsx(n,{className:"h-4 w-4"})," Export"]})]}),i!=null&&i.length?e.jsx(w,{children:e.jsx(D,{className:"p-0",children:e.jsxs(C,{children:[e.jsx(S,{children:e.jsxs(o,{children:[e.jsx(t,{children:"Invoice #"}),e.jsx(t,{children:"Amount"}),e.jsx(t,{children:"Gateway"}),e.jsx(t,{children:"Status"}),e.jsx(t,{className:"text-right",children:"Date"})]})}),e.jsx(T,{children:i.map(a=>e.jsxs(o,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>l(a),children:[e.jsx(r,{className:"font-mono text-sm",children:a.invoice_number}),e.jsxs(r,{children:["$",Number(a.amount).toFixed(2)]}),e.jsx(r,{className:"capitalize",children:a.gateway??"â€”"}),e.jsx(r,{children:e.jsx(x,{variant:m[a.status]??"secondary",children:a.status})}),e.jsx(r,{className:"text-right text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]},a.id))})]})})}):e.jsx(I,{icon:d,title:"No invoices yet",description:"Your invoices will appear here after making a purchase."})]}),e.jsx(h,{open:!!s,onOpenChange:a=>!a&&l(null),children:e.jsxs(j,{className:"sm:max-w-md",children:[e.jsxs(u,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5 text-primary"}),"Invoice Details"]}),e.jsxs(N,{children:["Detailed information for transaction ",s==null?void 0:s.invoice_number]})]}),s&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Amount"}),e.jsxs("p",{className:"text-lg font-bold",children:["$",Number(s.amount).toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Status"}),e.jsx(x,{variant:m[s.status]??"secondary",children:s.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Gateway"}),e.jsxs("div",{className:"flex items-center gap-1.5 capitalize text-sm",children:[e.jsx(b,{className:"h-3.5 w-3.5"}),s.gateway]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Date"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(y,{className:"h-3.5 w-3.5"}),new Date(s.created_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md italic",children:s.description||"No description provided."})]}),s.period&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Billing Period"}),e.jsx("p",{className:"text-sm",children:s.period})]})]}),s.pdf_url&&e.jsx(c,{className:"w-full gap-2",asChild:!0,children:e.jsxs("a",{href:s.pdf_url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(n,{className:"h-4 w-4"})," Download PDF Receipt"]})})]})]})})]})}export{O as default};
