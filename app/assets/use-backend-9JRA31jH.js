import{k as r,j as o,x as n,y as s,z as f,M as q,P as F,U as v,A as m,E as S,C as b,D as Q,c as K}from"./index-Ct2EIi6Q.js";import{u}from"./useMutation-AEPP9WN5.js";function h(){const e=o();return u({mutationFn:async t=>n.post("/profile",q,t),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function A(){return r({queryKey:["stats"],queryFn:async()=>n.get("/stats",s()),refetchInterval:1e3*60*5})}function w(e="7d"){return r({queryKey:["usage",e],queryFn:async()=>n.get(`/me/usage?range=${encodeURIComponent(e)}`,v),staleTime:1e3*60*5})}function _(){return r({queryKey:["events"],queryFn:async()=>n.get("/me/events",m(S))})}function P(e){return r({queryKey:["orders",e],queryFn:async()=>{const t=e?`/proxies?type=${e}`:"/proxies";return n.get(t,m(s()))}})}function $(){return r({queryKey:["invoices"],queryFn:async()=>n.get("/invoices",m(b))})}function x(){const e=o(),t=r({queryKey:["tickets"],queryFn:async()=>(await n.get("/support/tickets",m(s()))).map(a=>{var c;return{...a,messages:((c=a.messages)==null?void 0:c.map(i=>({...i,sender:i.is_admin_reply?"support":"client",text:i.message,time:i.created_at,attachment_url:i.attachment_url,attachment_name:i.attachment_name})))||[]}})}),d=u({mutationFn:async({subject:y,message:a,priority:c,attachment:i})=>{const l=new FormData;return l.append("subject",y),l.append("message",a),l.append("priority",c),i&&l.append("attachment",i),n.post("/support/tickets",s(),l)},onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})}),p=u({mutationFn:async({id:y,message:a,attachment:c})=>{const i=new FormData;return i.append("message",a),c&&i.append("attachment",c),n.post(`/support/tickets/${y}/reply`,s(),i)},onSuccess:()=>{e.invalidateQueries({queryKey:["tickets"]}),e.invalidateQueries({queryKey:["admin","tickets"]})}}),g=u({mutationFn:async({id:y,status:a})=>n.post(`/admin/support/tickets/${y}/status`,s(),{status:a}),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...t,createTicket:d,replyTicket:p,updateStatus:g}}function B(){return r({queryKey:["products"],queryFn:async()=>n.get(`/products?_t=${Date.now()}`,m(Q))})}function R(){const e=o();return u({mutationFn:async t=>n.post("/proxies/generate",F,t),onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function D(){return r({queryKey:["proxy-settings"],queryFn:async()=>K.getProxySettings(),staleTime:1e3*60*60})}function T(){return r({queryKey:["referrals"],queryFn:async()=>K.getReferralStats()})}function U(){const e=o(),t=r({queryKey:["admin","tickets"],queryFn:async()=>(await n.get("/admin/support/tickets",m(s()))).map(a=>{var c,i;return{id:String(a.id),user:((c=a.user)==null?void 0:c.email)||"Unknown",subject:a.subject,status:a.status,priority:a.priority==="normal"?"medium":a.priority,created_at:a.created_at,updated_at:a.updated_at,messages:((i=a.messages)==null?void 0:i.map(l=>({sender:l.is_admin_reply?"support":"client",text:l.message,time:l.created_at,attachment_url:l.attachment_url,attachment_name:l.attachment_name})))||[]}})}),d=u({mutationFn:async({id:y,message:a,attachment:c})=>{const i=new FormData;return i.append("message",a),c&&i.append("attachment",c),n.post(`/admin/support/tickets/${y}/reply`,q,i)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}}),p=u({mutationFn:async({id:y,status:a})=>n.post(`/admin/support/tickets/${y}/status`,q,{status:a}),onSuccess:()=>e.invalidateQueries({queryKey:["admin","tickets"]})}),g=u({mutationFn:async y=>{await n.delete(`/admin/support/tickets/${y}`,q)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}});return{...t,replyTicket:d,updateStatus:p,deleteTicket:g}}function I(e){return r({queryKey:["admin","payment-gateways",e],queryFn:async()=>{const t=e?"/admin/payment-gateways?refresh=true":"/admin/payment-gateways";return n.get(t,s())}})}function j(){return r({queryKey:["blog","posts"],queryFn:async()=>n.get("/blog",m(s()))})}function E(e){return r({queryKey:["blog","post",e],queryFn:async()=>n.get(`/blog/${e}`,s()),enabled:!!e})}function G(){return r({queryKey:["admin","blog"],queryFn:async()=>n.get("/admin/blog",m(s()))})}function L(){const e=o();return u({mutationFn:t=>n.post("/admin/blog",s(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function M(){const e=o();return u({mutationFn:({id:t,data:d})=>n.put(`/admin/blog/${t}`,s(),d),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function z(){const e=o();return u({mutationFn:t=>n.delete(`/admin/blog/${t}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function H(){const e=o();return u({mutationFn:({id:t,is_draft:d})=>n.post(`/admin/blog/${t}/publish`,s(),{is_draft:d}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]})}})}function J(){return r({queryKey:["admin","blog","automation"],queryFn:()=>n.get("/admin/blog/automation",s())})}function O(){const e=o();return u({mutationFn:t=>n.post("/admin/blog/automation/settings",s(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function N(){const e=o();return u({mutationFn:t=>n.post("/admin/blog/automation/keywords",s(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function V(){const e=o();return u({mutationFn:t=>n.delete(`/admin/blog/automation/keywords/${t}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function W(){const e=o();return u({mutationFn:t=>n.post("/admin/blog/automation/trigger",s(),t||{}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]}),e.invalidateQueries({queryKey:["admin","blog","automation"]})}})}function X(){return r({queryKey:["admin","alerts","config"],queryFn:async()=>n.get("/admin/alerts/config",s())})}function Y(){const e=o();return u({mutationFn:t=>n.patch("/admin/alerts/config",s(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","alerts","config"]})})}function Z(e){return r({queryKey:["admin","fraud","signals",e],queryFn:async()=>{const t=e!==void 0?`/admin/fraud/signals?resolved=${e}`:"/admin/fraud/signals";return n.get(t,m(s()))}})}function ee(){return r({queryKey:["admin","fraud","risk-scores"],queryFn:async()=>n.get("/admin/fraud/risk-scores",m(s()))})}function te(){return r({queryKey:["admin","fraud","login-history"],queryFn:async()=>n.get("/admin/fraud/login-history",m(s()))})}function ne(){const e=o();return u({mutationFn:t=>n.put(`/admin/fraud/signals/${t}/resolve`,s()),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","fraud","signals"]}),e.invalidateQueries({queryKey:["admin-stats"]})}})}function se(){return r({queryKey:["admin","referrals","stats"],queryFn:async()=>n.get("/admin/referrals/stats",s())})}function re(e,t=1){return r({queryKey:["admin","referrals","earnings",e,t],queryFn:async()=>{const d=new URLSearchParams;e&&d.append("status",e),t>1&&d.append("page",t.toString());const p=d.toString(),g=p?`/admin/referrals/earnings?${p}`:"/admin/referrals/earnings";return n.get(g,s())}})}function ae(){const e=o();return u({mutationFn:async t=>n.post("/admin/referrals/influencer-rate",q,t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","referrals","stats"]})}})}function ue(){return r({queryKey:["auth","2fa","setup"],queryFn:()=>f.setup(),staleTime:0,retry:!1})}function ie(){const e=o();return u({mutationFn:t=>f.confirm(t),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function oe(){const e=o();return u({mutationFn:t=>f.disable(t),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function ye(e=!1){return r({queryKey:["auth","2fa","recovery-codes"],queryFn:()=>f.getRecoveryCodes(),enabled:e})}export{W as A,X as B,Y as C,I as D,U as E,Z as F,ee as G,te as H,ne as I,se as J,re as K,ae as L,j as a,E as b,w as c,A as d,D as e,R as f,P as g,_ as h,$ as i,T as j,x as k,ue as l,ie as m,oe as n,ye as o,h as p,G as q,L as r,M as s,z as t,B as u,H as v,J as w,O as x,N as y,V as z};
