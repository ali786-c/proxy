import{i as w,k as f,r as d,j as s,I as t,B as j,L as g,t as y,o as v,s as i}from"./index-BotSXsdz.js";import{u as N,t as S}from"./zod-D9zXza4_.js";import{S as b}from"./SEOHead-DwHF0MbM.js";import{E}from"./ErrorBanner-DGeOM6z_.js";import{L as o}from"./label-Dy3S4-Di.js";import{L as C}from"./loader-circle-CVVqY-bl.js";import"./circle-alert-BoRW-5AH.js";const _=v({name:i().trim().min(1,"Name is required").max(100),email:i().trim().min(1,"Email is required").email("Enter a valid email address"),password:i().min(8,"Password must be at least 8 characters").max(128),password_confirmation:i()}).refine(a=>a.password===a.password_confirmation,{message:"Passwords do not match",path:["password_confirmation"]});function T(){const{signup:a,clearError:l,error:m}=w(),p=f(),[n,c]=d.useState(!1),[L,F]=d.useState(!1),{register:r,handleSubmit:x,formState:{errors:e}}=N({resolver:S(_),defaultValues:{name:"",email:"",password:"",password_confirmation:""}}),u=async h=>{c(!0);try{await a(h),y({title:"Account created",description:"Welcome to UpgradedProxy!"}),p("/app")}catch{}finally{c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(b,{title:"Sign Up",description:"Create your UpgradedProxy account.",noindex:!0}),s.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:s.jsxs("form",{onSubmit:x(u),className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8",noValidate:!0,children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),m&&s.jsx(E,{message:m,onDismiss:l}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"name",children:"Name"}),s.jsx(t,{id:"name",autoComplete:"name","aria-invalid":!!e.name,...r("name")}),e.name&&s.jsx("p",{className:"text-xs text-destructive",children:e.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"email",children:"Email"}),s.jsx(t,{id:"email",type:"email",autoComplete:"email","aria-invalid":!!e.email,...r("email")}),e.email&&s.jsx("p",{className:"text-xs text-destructive",children:e.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password",children:"Password"}),s.jsx(t,{id:"password",type:"password",autoComplete:"new-password","aria-invalid":!!e.password,...r("password")}),e.password&&s.jsx("p",{className:"text-xs text-destructive",children:e.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password_confirmation",children:"Confirm Password"}),s.jsx(t,{id:"password_confirmation",type:"password",autoComplete:"new-password","aria-invalid":!!e.password_confirmation,...r("password_confirmation")}),e.password_confirmation&&s.jsx("p",{className:"text-xs text-destructive",children:e.password_confirmation.message})]}),s.jsxs(j,{type:"submit",className:"w-full",disabled:n,children:[n&&s.jsx(C,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Creating accountâ€¦":"Create Account"]}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(g,{to:"/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})}export{T as default};
