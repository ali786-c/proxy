import{r as n,t as z,j as e,q as T,v as k,w as L,x as A,y as f,I as F,B as x,z as E}from"./index-CBTlly59.js";import{S as se}from"./SEOHead-KqlO5AOc.js";import{E as te}from"./ErrorBanner-BzdH6yA-.js";import{L as h}from"./label-CFe8GWgp.js";import{C as b,a as H,b as U,c as v}from"./card-DI-biO00.js";import{T as ae}from"./textarea-CP78xuI7.js";import{T as re,a as ne,b as O,c as B}from"./tabs-GeUbp2is.js";import{T as oe,a as le,b as I,c as p,d as ie,e as u}from"./table-DUNcCttz.js";import{B as ce}from"./badge-B3OiTcYG.js";import{u as de,a as xe,b as me,c as he}from"./use-backend-C85Tgvka.js";import{L as pe}from"./loader-circle-f6Y82UPZ.js";import{C as _}from"./copy-PbNnYfWl.js";import"./circle-alert-4Ncd4SWD.js";import"./useQuery-dmhq494h.js";import"./useMutation-7E4wQeMW.js";import"./api-BTF2QDx4.js";const ue={rp:"residential",mp:"mobile",isp:"isp",dc:"datacenter"};function G(s){return`${s.host}:${s.port}:${s.username}:${s.password}`}function je(s){return`curl -x http://${s.username}:${s.password}@${s.host}:${s.port} https://httpbin.org/ip`}function ye(s){return`import requests

proxies = {
    "http": "http://${s.username}:${s.password}@${s.host}:${s.port}",
    "https": "http://${s.username}:${s.password}@${s.host}:${s.port}",
}
response = requests.get("https://httpbin.org/ip", proxies=proxies)
print(response.json())`}function ge(s){return`const HttpsProxyAgent = require('https-proxy-agent');

const agent = new HttpsProxyAgent(
  'http://${s.username}:${s.password}@${s.host}:${s.port}'
);

fetch('https://httpbin.org/ip', { agent })
  .then(res => res.json())
  .then(console.log);`}function Ge(){const{data:s}=de(),{data:N}=xe(),{data:m}=me(),q=he(),[d,Q]=n.useState(""),[w,J]=n.useState(""),[M,Y]=n.useState(""),[C,K]=n.useState("rotating"),[P,W]=n.useState(1),[$,V]=n.useState(!1),[D,j]=n.useState(null),[r,X]=n.useState([]),Z=n.useCallback(async()=>{var t,a,o;if(j(null),!d){j("Please select a product.");return}V(!0);try{const l=s==null?void 0:s.find(c=>c.type===d);if(!l)throw new Error("Product not found");const i=await q.mutateAsync({product_id:l.id,quantity:P,country:w||"US",session_type:C});X(i.proxies||[]),z({title:"Proxies Generated",description:`${((t=i.proxies)==null?void 0:t.length)||0} proxies ready.`})}catch(l){j(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message)}finally{V(!1)}},[d,s,P,q]),ee=n.useCallback(()=>{const t=r.map(G).join(`
`);navigator.clipboard.writeText(t),z({title:"Copied",description:"All proxies copied to clipboard."})},[r]),S=n.useCallback(t=>{let a,o;t==="json"?(a=JSON.stringify(r,null,2),o="application/json"):t==="csv"?(a=`host,port,username,password
`+r.map(g=>`${g.host},${g.port},${g.username},${g.password}`).join(`
`),o="text/csv"):(a=r.map(G).join(`
`),o="text/plain");const l=new Blob([a],{type:o}),i=URL.createObjectURL(l),c=document.createElement("a");c.href=i,c.download=`proxies.${t}`,c.click(),URL.revokeObjectURL(i)},[r]),y=r[0];return e.jsxs(e.Fragment,{children:[e.jsx(se,{title:"Proxy Generator",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Proxy Generator"}),e.jsxs(b,{children:[e.jsx(H,{children:e.jsx(U,{className:"text-lg",children:"Generate Proxies"})}),e.jsxs(v,{className:"space-y-4",children:[D&&e.jsx(te,{message:D,onDismiss:()=>j(null)}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Product"}),e.jsxs(T,{value:d,onValueChange:Q,children:[e.jsx(k,{children:e.jsx(L,{placeholder:"Select Product..."})}),e.jsx(A,{children:(s??[]).map(t=>e.jsx(f,{value:t.type,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Country"}),e.jsxs(T,{value:w,onValueChange:J,children:[e.jsx(k,{children:e.jsx(L,{placeholder:"Select..."})}),e.jsx(A,{children:(()=>{var o,l;const t=ue[d]||"residential",a=((l=(o=m==null?void 0:m.data)==null?void 0:o[t])==null?void 0:l.countries)||{};return Object.entries(a).map(([i,c])=>e.jsx(f,{value:i,children:c},i))})()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"City (optional)"}),e.jsx(F,{value:M,onChange:t=>Y(t.target.value),placeholder:"Any"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Session Type"}),e.jsxs(T,{value:C,onValueChange:K,children:[e.jsx(k,{children:e.jsx(L,{})}),e.jsxs(A,{children:[e.jsx(f,{value:"rotating",children:"Rotating"}),e.jsx(f,{value:"sticky",children:"Sticky"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Quantity"}),e.jsx(F,{type:"number",min:1,max:1e3,value:P,onChange:t=>W(Number(t.target.value))})]})]}),e.jsxs(x,{onClick:Z,disabled:$,children:[$&&e.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}),$?"Generating…":"Generate Proxies"]})]})]}),r.length>0&&e.jsxs(re,{defaultValue:"output",children:[e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:e.jsxs(ne,{children:[e.jsx(O,{value:"output",children:"Output"}),e.jsx(O,{value:"table",children:"Table View"}),e.jsx(O,{value:"snippets",children:"Config Snippets"})]})}),e.jsx(B,{value:"output",className:"mt-4",children:e.jsxs(b,{children:[e.jsx(H,{className:"flex flex-row items-center justify-between pb-2",children:e.jsxs(U,{className:"text-sm",children:[e.jsx(ce,{variant:"secondary",className:"mr-2",children:r.length}),"proxies generated • ",d," • ",w," • ",C]})}),e.jsxs(v,{className:"space-y-3",children:[e.jsx(ae,{readOnly:!0,className:"font-mono text-xs leading-relaxed min-h-[200px] max-h-[400px] resize-y bg-muted",value:r.map(G).join(`
`),onFocus:t=>t.target.select()}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(x,{variant:"default",size:"sm",onClick:ee,children:[e.jsx(_,{className:"mr-1.5 h-3.5 w-3.5"})," Copy All"]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>S("txt"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .txt"]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>S("csv"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .csv"]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>S("json"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .json"]})]})]})]})}),e.jsx(B,{value:"table",className:"mt-4",children:e.jsx(b,{children:e.jsx(v,{className:"p-0",children:e.jsx("div",{className:"max-h-96 overflow-auto",children:e.jsxs(oe,{children:[e.jsx(le,{children:e.jsxs(I,{children:[e.jsx(p,{className:"w-12",children:"#"}),e.jsx(p,{children:"Host"}),e.jsx(p,{children:"Port"}),e.jsx(p,{children:"Username"}),e.jsx(p,{children:"Password"})]})}),e.jsx(ie,{children:r.map((t,a)=>e.jsxs(I,{children:[e.jsx(u,{className:"text-muted-foreground",children:a+1}),e.jsx(u,{className:"font-mono text-xs",children:t.host}),e.jsx(u,{className:"font-mono text-xs",children:t.port}),e.jsx(u,{className:"font-mono text-xs",children:t.username}),e.jsx(u,{className:"font-mono text-xs",children:t.password})]},a))})]})})})})}),e.jsx(B,{value:"snippets",className:"mt-4 space-y-4",children:y&&e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"cURL",code:je(y)}),e.jsx(R,{title:"Python (requests)",code:ye(y)}),e.jsx(R,{title:"Node.js (fetch)",code:ge(y)})]})})]})]})]})}function R({title:s,code:N}){const m=()=>{navigator.clipboard.writeText(N),z({title:"Copied",description:`${s} snippet copied.`})};return e.jsxs(b,{children:[e.jsxs(H,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(U,{className:"text-sm",children:s}),e.jsxs(x,{variant:"ghost",size:"sm",onClick:m,children:[e.jsx(_,{className:"mr-1 h-3.5 w-3.5"})," Copy"]})]}),e.jsx(v,{children:e.jsx("pre",{className:"overflow-x-auto rounded-md bg-muted p-3 text-xs leading-relaxed",children:N})})]})}export{Ge as default};
