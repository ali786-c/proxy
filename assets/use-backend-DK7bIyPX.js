import{u as r}from"./useQuery-D6bDMPQD.js";import{ab as o}from"./index-CKrLide3.js";import{u as i}from"./useMutation-CW9kxkEL.js";import{a as t}from"./api-BTF2QDx4.js";function p(){return r({queryKey:["profile"],queryFn:async()=>{const{data:e}=await t.get("/me");return e}})}function f(){return r({queryKey:["profile-info"],queryFn:async()=>{const{data:e}=await t.get("/profile");return e}})}function m(){const e=o();return i({mutationFn:async n=>{const{data:u}=await t.post("/profile",n);return u},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function w(){return r({queryKey:["stats"],queryFn:async()=>{const{data:e}=await t.get("/stats");return e},refetchInterval:1e3*60*5})}function K(e){return r({queryKey:["orders",e],queryFn:async()=>{const{data:n}=await t.get("/proxies",{params:{type:e}});return n}})}function F(){return r({queryKey:["invoices"],queryFn:async()=>{const{data:e}=await t.get("/invoices");return e}})}function v(){const e=o(),n=r({queryKey:["api_keys"],queryFn:async()=>{const{data:a}=await t.get("/api_keys");return a}}),u=i({mutationFn:async a=>{const{data:c}=await t.post("/api_keys",{key_name:a});return c},onSuccess:()=>e.invalidateQueries({queryKey:["api_keys"]})}),s=i({mutationFn:async a=>{await t.delete(`/api_keys/${a}`)},onSuccess:()=>e.invalidateQueries({queryKey:["api_keys"]})});return{...n,createKey:u,revokeKey:s,deleteKey:s}}function g(){const e=o(),n=r({queryKey:["tickets"],queryFn:async()=>{const{data:s}=await t.get("/support/tickets");return s}}),u=i({mutationFn:async s=>{const{data:a}=await t.post("/support/tickets",s);return a},onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...n,createTicket:u}}function k(){return r({queryKey:["products"],queryFn:async()=>{const{data:e}=await t.get("/products");return e}})}function Q(){const e=o();return i({mutationFn:async n=>{const{data:u}=await t.post("/proxies/generate",n);return u},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function S(){return r({queryKey:["proxy-settings"],queryFn:async()=>{const{data:e}=await t.get("/proxies/settings");return e},staleTime:1e3*60*60})}function C(){const e=o(),n=r({queryKey:["allowlist"],queryFn:async()=>{const{data:a}=await t.get("/allowlist");return a}}),u=i({mutationFn:async a=>{const{data:c}=await t.post("/allowlist",a);return c},onSuccess:()=>e.invalidateQueries({queryKey:["allowlist"]})}),s=i({mutationFn:async a=>{await t.post(`/allowlist/${a}`,{_method:"DELETE"})},onSuccess:()=>e.invalidateQueries({queryKey:["allowlist"]})});return{...n,addEntry:u,removeEntry:s}}function _(){return i({mutationFn:async e=>{const{data:n}=await t.post("/billing/checkout",e);return n.url&&(window.location.href=n.url),n}})}function b(){return r({queryKey:["admin","users"],queryFn:async()=>{const{data:e}=await t.get("/admin/users");return e}})}function h(){return r({queryKey:["admin","stats"],queryFn:async()=>{const{data:e}=await t.get("/admin/stats");return e},refetchInterval:1e3*60})}function x(){const e=o(),n=i({mutationFn:async s=>{const{data:a}=await t.post("/admin/users/balance",s);return a},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","stats"]})}}),u=i({mutationFn:async s=>{const{data:a}=await t.post("/admin/users/ban",s);return a},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]})}});return{updateBalance:n,banUser:u}}export{k as a,K as b,S as c,Q as d,f as e,m as f,C as g,v as h,p as i,F as j,_ as k,g as l,h as m,b as n,x as o,w as u};
