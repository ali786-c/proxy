import{ab as g,j as e,D as f,I as p,t as b}from"./index-BNuaxT4T.js";import{u as v}from"./useQuery-CBgvpg-m.js";import{u as m}from"./useMutation-CQc9H_Pl.js";import{C as i,a as l,b as d,c}from"./card-DxanYWse.js";import{B as N}from"./badge-CCgDpgoq.js";import{T as y,a as C,b as u,c as n,d as _,e as r}from"./table-2junBFqZ.js";import{S as T}from"./switch-i-kJ83PL.js";function R(){return v({queryKey:["currencies"],queryFn:async()=>[]})}function F(){const{data:a,isLoading:S}=R(),x=g(),h=m({mutationFn:async({id:s,exchange_rate:t})=>{console.log("Updating rate for",s,t)},onSuccess:()=>{x.invalidateQueries({queryKey:["currencies"]}),b({title:"Exchange rate updated (Mock)"})}}),j=m({mutationFn:async({id:s,is_active:t})=>{},onSuccess:()=>x.invalidateQueries({queryKey:["currencies"]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(f,{className:"h-6 w-6"})," Multi-Currency Management"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage supported currencies and exchange rates (auto-detect by region)"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(i,{children:[e.jsx(l,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Active Currencies"})}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(s=>s.is_active).length)??0})})]}),e.jsxs(i,{children:[e.jsx(l,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Total Currencies"})}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)??0})})]}),e.jsxs(i,{children:[e.jsx(l,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Regions Covered"})}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.reduce((s,t)=>s+(t.auto_detect_regions??[]).length,0))??0})})]})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:"Currencies & Exchange Rates"})}),e.jsx(c,{children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Currency"}),e.jsx(n,{children:"Symbol"}),e.jsx(n,{children:"Exchange Rate (vs USD)"}),e.jsx(n,{children:"Auto-Detect Regions"}),e.jsx(n,{children:"Active"})]})}),e.jsx(_,{children:a==null?void 0:a.map(s=>e.jsxs(u,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:s.code}),e.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:s.name})]})}),e.jsx(r,{className:"text-lg",children:s.symbol}),e.jsx(r,{children:e.jsx(p,{type:"number",step:"0.01",defaultValue:Number(s.exchange_rate),className:"w-28",onBlur:t=>{const o=parseFloat(t.target.value);o&&o!==Number(s.exchange_rate)&&h.mutate({id:s.id,exchange_rate:o})}})}),e.jsx(r,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(s.auto_detect_regions??[]).map(t=>e.jsx(N,{variant:"outline",className:"text-xs",children:t},t))})}),e.jsx(r,{children:e.jsx(T,{checked:s.is_active??!1,onCheckedChange:t=>j.mutate({id:s.id,is_active:t})})})]},s.id))})]})})]})]})}export{F as default};
