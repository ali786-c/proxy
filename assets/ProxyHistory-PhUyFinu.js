import{c as z,u as _,r as v,A as q,Z as F,e as V,f as O,V as Y,j as e,I as Z,B as c,z as G,t as L}from"./index-_ey3Iekf.js";import{S as Q}from"./SEOHead-CCnnM028.js";import{C as k,a as R,b as A,c as B}from"./card-BNdgq2vt.js";import{T as w,a as C,b as h,c as n,d as P,e as i}from"./table-Bz80cuOd.js";import{B as T}from"./badge-C9auvP86.js";import{b as X}from"./use-backend-Bi_t2yaJ.js";import{D as J,b as K,c as W,d as ee,f as se}from"./dialog-BMsNlbKO.js";import{T as te,a as ae,b as $,c as D}from"./tabs-Cjdbxktq.js";import{S as re}from"./search-C7EaSMyy.js";import{f as H}from"./format-sbWH3_uq.js";import{E as ne}from"./eye-DRLMcmEO.js";import{C as E}from"./copy-VbAZXE5E.js";import"./useQuery--ax0JknR.js";import"./useMutation-dWnXvasO.js";import"./api-BTF2QDx4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function S(s){return`${s.host}:${s.port}:${s.username}:${s.password}`}function oe(s){return`curl -x http://${s.username}:${s.password}@${s.host}:${s.port} https://httpbin.org/ip`}function le(s){return`import requests

proxies = {
    "http": "http://${s.username}:${s.password}@${s.host}:${s.port}",
    "https": "http://${s.username}:${s.password}@${s.host}:${s.port}",
}
response = requests.get("https://httpbin.org/ip", proxies=proxies)
print(response.json())`}function ce(s){return`const HttpsProxyAgent = require('https-proxy-agent');

const agent = new HttpsProxyAgent(
  'http://${s.username}:${s.password}@${s.host}:${s.port}'
);

fetch('https://httpbin.org/ip', { agent })
  .then(res => res.json())
  .then(console.log);`}const xe={rp:{title:"Residential Proxies",icon:Y},dc:{title:"Datacenter Proxies",icon:O},mp:{title:"Mobile Proxies",icon:V},isp:{title:"Datacenter IPv6",icon:F},dc_unmetered:{title:"Datacenter (Unmetered)",icon:q}};function Te(){var N,b;const{type:s}=_(),{data:l,isLoading:p}=X(s),[j,I]=v.useState(""),[a,u]=v.useState(null),d=s?xe[s]:{title:"Proxy History",icon:ie},M=d.icon,m=l==null?void 0:l.filter(t=>{var r,o;return((o=(r=t.product)==null?void 0:r.name)==null?void 0:o.toLowerCase().includes(j.toLowerCase()))||t.id.toString().includes(j)}),y=t=>{const r=t.map(S).join(`
`);navigator.clipboard.writeText(r),L({title:"Copied",description:"Proxies copied to clipboard."})},U=t=>{const r=t.proxies.map(S).join(`
`),o=new Blob([r],{type:"text/plain"}),x=URL.createObjectURL(o),f=document.createElement("a");f.href=x,f.download=`proxies_order_${t.id}.txt`,f.click(),URL.revokeObjectURL(x)};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{title:d.title,noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(M,{className:"h-6 w-6 text-primary"}),d.title]}),e.jsxs("div",{className:"relative w-64",children:[e.jsx(re,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Z,{placeholder:"Search orders...",className:"pl-9",value:j,onChange:t=>I(t.target.value)})]})]}),e.jsxs(k,{children:[e.jsx(R,{children:e.jsxs(A,{className:"text-lg",children:["Your ",d.title," History"]})}),e.jsx(B,{children:p?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading history..."}):(m==null?void 0:m.length)===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No orders found."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(w,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(n,{children:"Order ID"}),e.jsx(n,{children:"Product"}),e.jsx(n,{children:"Quantity"}),e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Status"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(P,{children:m.map(t=>{var r,o,x;return e.jsxs(h,{children:[e.jsxs(i,{className:"font-medium text-xs",children:["#",t.id]}),e.jsx(i,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:(r=t.product)==null?void 0:r.name}),e.jsx("span",{className:"text-xs text-muted-foreground uppercase",children:(o=t.product)==null?void 0:o.type})]})}),e.jsx(i,{children:e.jsxs(T,{variant:"secondary",children:[((x=t.proxies)==null?void 0:x.length)||0," Proxies"]})}),e.jsx(i,{className:"text-xs text-muted-foreground",children:H(new Date(t.created_at),"MMM d, yyyy HH:mm")}),e.jsx(i,{children:e.jsx(T,{variant:t.status==="active"?"outline":"secondary",className:"capitalize",children:t.status})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>u(t),title:"View Details",children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>y(t.proxies),title:"Copy All",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>U(t),title:"Download TXT",children:e.jsx(G,{className:"h-4 w-4"})})]})})]},t.id)})})]})})})]})]}),e.jsx(J,{open:!!a,onOpenChange:()=>u(null),children:e.jsxs(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(W,{children:[e.jsxs(ee,{className:"flex items-center gap-2",children:["Order Details #",a==null?void 0:a.id]}),e.jsxs(se,{children:[(N=a==null?void 0:a.product)==null?void 0:N.name," • ",(b=a==null?void 0:a.proxies)==null?void 0:b.length," Proxies • ",a&&H(new Date(a.created_at),"PPP p")]})]}),a&&e.jsxs(te,{defaultValue:"table",className:"mt-4",children:[e.jsxs(ae,{className:"mb-4",children:[e.jsx($,{value:"table",children:"Table View"}),e.jsx($,{value:"snippets",children:"Config Snippets"})]}),e.jsx(D,{value:"table",children:e.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto text-card-foreground",children:e.jsxs(w,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(n,{className:"w-12",children:"#"}),e.jsx(n,{children:"Host"}),e.jsx(n,{children:"Port"}),e.jsx(n,{children:"Username"}),e.jsx(n,{children:"Password"})]})}),e.jsx(P,{children:a.proxies.map((t,r)=>e.jsxs(h,{children:[e.jsx(i,{className:"text-muted-foreground",children:r+1}),e.jsx(i,{className:"font-mono text-xs",children:t.host}),e.jsx(i,{className:"font-mono text-xs",children:t.port}),e.jsx(i,{className:"font-mono text-xs",children:t.username}),e.jsx(i,{className:"font-mono text-xs",children:t.password})]},r))})]})})}),e.jsx(D,{value:"snippets",className:"space-y-4",children:a.proxies[0]&&e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"cURL",code:oe(a.proxies[0])}),e.jsx(g,{title:"Python (requests)",code:le(a.proxies[0])}),e.jsx(g,{title:"Node.js (fetch)",code:ce(a.proxies[0])})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6 font-semibold",children:[e.jsx(c,{variant:"outline",onClick:()=>u(null),children:"Close"}),e.jsx(c,{onClick:()=>y(a.proxies),children:"Copy All Proxies"})]})]})})]})}function g({title:s,code:l}){const p=()=>{navigator.clipboard.writeText(l),L({title:"Copied",description:`${s} snippet copied.`})};return e.jsxs(k,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Terminal,{className:"h-4 w-4 text-primary"}),s]}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:p,children:[e.jsx(E,{className:"mr-1 h-3.5 w-3.5"})," Copy"]})]}),e.jsx(B,{children:e.jsx("pre",{className:"overflow-x-auto rounded-md bg-muted p-3 text-xs leading-relaxed font-mono",children:l})})]})}export{Te as default};
