import{c as O,U as Z,r as R,i as w,j as e,F as q,x as ee,aH as S,a as o,aP as se,G as D,I as te,y as ae,z as ie,E as re,J as le,K as I,t as x}from"./index-BUbETakz.js";import{u as b}from"./useMutation-BBlCQ__n.js";import{S as ne}from"./SEOHead-Bt35TWdP.js";import{C as r,c as l}from"./card-DX_4htAf.js";import{B as h}from"./badge-X0ZTVhbe.js";import{T as de,a as ce,b as _,c as C}from"./tabs-DwchOpWN.js";import{S as f}from"./switch-C7_-mX0a.js";import{L as N}from"./label-SIQxsXuV.js";import{T as K,a as M,b as u,c as d,d as G,e as n}from"./table-DfcVc9DS.js";import{s as c}from"./client-DBtcxyoE.js";import{C as oe}from"./clock-C0HRKsyw.js";import{R as xe}from"./refresh-cw-1MxtPVbt.js";import{S as me}from"./search-U8rExUKC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=O("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=O("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=O("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),he={draft:"outline",scheduled:"secondary",published:"default"};function ke(){const j=Z(),[$,H]=R.useState("posts"),[E,Q]=R.useState("all"),[T,W]=R.useState(""),{data:v=[],isLoading:U}=w({queryKey:["admin-blog-posts"],queryFn:async()=>{const{data:s,error:t}=await c.from("blog_posts").select("*").order("created_at",{ascending:!1});if(t)throw t;return s??[]}}),{data:a}=w({queryKey:["auto-blog-config"],queryFn:async()=>{const{data:s,error:t}=await c.from("auto_blog_config").select("*").limit(1).single();if(t)throw t;return s}}),{data:A=[]}=w({queryKey:["distribution-log"],queryFn:async()=>{const{data:s,error:t}=await c.from("distribution_log").select("*").order("created_at",{ascending:!1}).limit(50);if(t)throw t;return s??[]}}),{data:F=0}=w({queryKey:["newsletter-subscriber-count"],queryFn:async()=>{const{count:s,error:t}=await c.from("newsletter_subscribers").select("*",{count:"exact",head:!0}).eq("is_active",!0);if(t)throw t;return s??0}}),P=b({mutationFn:async s=>{const{data:{session:t}}=await c.auth.getSession(),i=await fetch("undefined/functions/v1/generate-blog-post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.access_token}`},body:JSON.stringify({action:"generate",topic:s})}),m=await i.json();if(!i.ok)throw new Error(m.error||"Generation failed");return m},onSuccess:()=>{x({title:"Article generated!",description:"New draft article created."}),j.invalidateQueries({queryKey:["admin-blog-posts"]})},onError:s=>x({title:"Generation failed",description:s.message,variant:"destructive"})}),y=b({mutationFn:async s=>{const{data:{session:t}}=await c.auth.getSession(),i=await fetch("undefined/functions/v1/distribute-post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.access_token}`},body:JSON.stringify({action:"publish_and_distribute",post_id:s})}),m=await i.json();if(!i.ok)throw new Error(m.error||"Publish failed");return m},onSuccess:s=>{const t=s.results||{},i=Object.entries(t).map(([m,Y])=>`${m}: ${Y}`).join(", ");x({title:"Published & distributed!",description:i||"Post is now live."}),j.invalidateQueries({queryKey:["admin-blog-posts"]}),j.invalidateQueries({queryKey:["distribution-log"]})},onError:s=>x({title:"Publish failed",description:s.message,variant:"destructive"})}),p=b({mutationFn:async s=>{if(!(a!=null&&a.id))throw new Error("No config found");const{error:t}=await c.from("auto_blog_config").update(s).eq("id",a.id);if(t)throw t},onSuccess:()=>{j.invalidateQueries({queryKey:["auto-blog-config"]}),x({title:"Config updated"})}}),V=b({mutationFn:async s=>{const{error:t}=await c.from("blog_posts").delete().eq("id",s);if(t)throw t},onSuccess:()=>{j.invalidateQueries({queryKey:["admin-blog-posts"]}),x({title:"Post deleted"})}}),g=b({mutationFn:async()=>{const{data:{session:s}}=await c.auth.getSession(),t=await fetch("undefined/functions/v1/newsletter-send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s==null?void 0:s.access_token}`},body:JSON.stringify({action:"send_digest"})}),i=await t.json();if(!t.ok)throw new Error(i.error||"Digest failed");return i},onSuccess:s=>x({title:"Newsletter sent!",description:s.message}),onError:s=>x({title:"Newsletter failed",description:s.message,variant:"destructive"})}),L=v.filter(s=>!(E!=="all"&&s.status!==E||T&&!s.title.toLowerCase().includes(T.toLowerCase()))),J=v.filter(s=>s.status==="draft").length,X=v.filter(s=>s.status==="published").length;return e.jsxs(e.Fragment,{children:[e.jsx(ne,{title:"Admin — Auto-Blogging & Marketing",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Auto-Blogging & Marketing Automation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI content generation → multi-platform distribution → newsletter → SEO automation"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-5",children:[e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(q,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:v.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Posts"})]})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(oe,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:J}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Drafts"})]})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:X}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Published"})]})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(ee,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:A.filter(s=>s.status==="sent").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Distributed"})]})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:F}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"})]})]})})})]}),e.jsx(r,{className:"border-primary/20 bg-primary/5",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary p-2.5",children:e.jsx(z,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Auto-Blogging Engine"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate → Publish → Distribute → Index — fully automated"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{size:"sm",onClick:()=>P.mutate(void 0),disabled:P.isPending,children:P.isPending?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4 animate-spin"})," Generating…"]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"})," Generate Article"]})}),e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,children:[e.jsx(S,{className:"mr-2 h-4 w-4"})," Send Digest"]}),e.jsx(h,{variant:a!=null&&a.is_enabled?"default":"outline",children:a!=null&&a.is_enabled?"Active":"Paused"})]})]})})}),e.jsxs(de,{value:$,onValueChange:H,children:[e.jsxs(ce,{children:[e.jsxs(_,{value:"posts",className:"gap-1.5",children:[e.jsx(q,{className:"h-3.5 w-3.5"})," Posts"]}),e.jsxs(_,{value:"distribution",className:"gap-1.5",children:[e.jsx(k,{className:"h-3.5 w-3.5"})," Distribution"]}),e.jsxs(_,{value:"settings",className:"gap-1.5",children:[e.jsx(se,{className:"h-3.5 w-3.5"})," Channels"]}),e.jsxs(_,{value:"seo",className:"gap-1.5",children:[e.jsx(D,{className:"h-3.5 w-3.5"})," SEO & Feeds"]})]}),e.jsxs(C,{value:"posts",className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(te,{placeholder:"Search posts…",value:T,onChange:s=>W(s.target.value),className:"pl-9"})]}),e.jsxs(ae,{value:E,onValueChange:Q,children:[e.jsx(ie,{className:"w-32",children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(I,{value:"all",children:"All"}),e.jsx(I,{value:"draft",children:"Drafts"}),e.jsx(I,{value:"published",children:"Published"})]})]})]}),e.jsx(r,{children:e.jsx(l,{className:"p-0",children:e.jsxs(K,{children:[e.jsx(M,{children:e.jsxs(u,{children:[e.jsx(d,{children:"Title"}),e.jsx(d,{children:"Category"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Date"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsxs(G,{children:[L.map(s=>{var t;return e.jsxs(u,{children:[e.jsx(n,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["/",s.slug]})]})}),e.jsx(n,{children:e.jsx(h,{variant:"outline",className:"text-xs",children:s.category})}),e.jsx(n,{children:e.jsx(h,{variant:he[s.status]??"outline",className:"text-xs",children:s.status})}),e.jsx(n,{className:"text-sm text-muted-foreground",children:(t=s.published_at??s.created_at)==null?void 0:t.slice(0,10)}),e.jsx(n,{children:e.jsxs("div",{className:"flex justify-end gap-1",children:[s.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>y.mutate(s.id),disabled:y.isPending,children:[e.jsx(k,{className:"mr-1 h-3 w-3"})," Publish & Share"]}),e.jsx(o,{size:"sm",variant:"outline",onClick:()=>V.mutate(s.id),children:"Delete"})]}),s.status==="published"&&e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>y.mutate(s.id),disabled:y.isPending,children:[e.jsx(k,{className:"mr-1 h-3 w-3"})," Re-distribute"]})]})})]},s.id)}),L.length===0&&e.jsx(u,{children:e.jsx(n,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:U?"Loading…":"No posts yet."})})]})]})})})]}),e.jsx(C,{value:"distribution",className:"mt-4",children:e.jsx(r,{children:e.jsx(l,{className:"p-0",children:e.jsxs(K,{children:[e.jsx(M,{children:e.jsxs(u,{children:[e.jsx(d,{children:"Platform"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Error"}),e.jsx(d,{children:"Time"})]})}),e.jsxs(G,{children:[A.map(s=>{var t,i;return e.jsxs(u,{children:[e.jsx(n,{className:"capitalize font-medium",children:s.platform}),e.jsx(n,{children:e.jsx(h,{variant:s.status==="sent"?"default":s.status==="failed"?"destructive":"outline",className:"text-xs",children:s.status})}),e.jsx(n,{className:"text-xs text-muted-foreground max-w-xs truncate",children:s.error_message??"—"}),e.jsx(n,{className:"text-sm text-muted-foreground",children:((t=s.sent_at)==null?void 0:t.slice(0,16))??((i=s.created_at)==null?void 0:i.slice(0,16))})]},s.id)}),A.length===0&&e.jsx(u,{children:e.jsx(n,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"No distribution activity yet."})})]})]})})})}),e.jsx(C,{value:"settings",className:"mt-4 space-y-6",children:e.jsx(r,{children:e.jsxs(l,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Enable Auto-Blogging"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-generate and publish on schedule"})]}),e.jsx(f,{checked:(a==null?void 0:a.is_enabled)??!1,onCheckedChange:s=>p.mutate({is_enabled:s})})]}),e.jsx("h3",{className:"font-semibold text-sm pt-2 border-t",children:"Distribution Channels"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[{key:"discord_enabled",label:"Discord",desc:"Post via webhook",ready:!0},{key:"telegram_enabled",label:"Telegram",desc:"Post to channel via Bot API",ready:!0},{key:"facebook_enabled",label:"Facebook",desc:"Requires Page Access Token",ready:!1},{key:"linkedin_enabled",label:"LinkedIn",desc:"Requires Org Access Token",ready:!1},{key:"twitter_enabled",label:"X / Twitter",desc:"Requires API keys (Read+Write)",ready:!1},{key:"reddit_enabled",label:"Reddit",desc:"Auto-post to subreddits",ready:!1}].map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{children:s.label}),s.ready?e.jsx(h,{variant:"default",className:"text-[10px] h-4",children:"Live"}):e.jsx(h,{variant:"outline",className:"text-[10px] h-4",children:"Setup needed"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]}),e.jsx(f,{checked:(a==null?void 0:a[s.key])??!1,onCheckedChange:t=>p.mutate({[s.key]:t})})]},s.key))}),e.jsx("h3",{className:"font-semibold text-sm pt-2 border-t",children:"Automation Features"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Newsletter Digest"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Weekly email to subscribers (Sundays)"})]}),e.jsx(f,{checked:(a==null?void 0:a.newsletter_enabled)??!1,onCheckedChange:s=>p.mutate({newsletter_enabled:s})})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Google Indexing API"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ping Google on new posts"})]}),e.jsx(f,{checked:(a==null?void 0:a.google_indexing_enabled)??!1,onCheckedChange:s=>p.mutate({google_indexing_enabled:s})})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Auto Sitemap"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Regenerate sitemap.xml on each post"})]}),e.jsx(f,{checked:(a==null?void 0:a.auto_sitemap_enabled)??!0,onCheckedChange:s=>p.mutate({auto_sitemap_enabled:s})})]})]}),e.jsxs("div",{className:"rounded-lg border border-dashed p-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-foreground mb-2",children:"Required Secrets (set in Cloud → Secrets):"}),e.jsxs("div",{className:"grid gap-1 text-xs sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mt-2",children:"✅ Active"}),e.jsxs("ul",{className:"space-y-0.5 mt-1",children:[e.jsxs("li",{children:["• ",e.jsx("code",{children:"DISCORD_WEBHOOK_URL"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"TELEGRAM_BOT_TOKEN"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"TELEGRAM_CHAT_ID"})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mt-2",children:"⏳ To configure"}),e.jsxs("ul",{className:"space-y-0.5 mt-1",children:[e.jsxs("li",{children:["• ",e.jsx("code",{children:"FACEBOOK_PAGE_TOKEN"})," + ",e.jsx("code",{children:"FACEBOOK_PAGE_ID"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"LINKEDIN_ACCESS_TOKEN"})," + ",e.jsx("code",{children:"LINKEDIN_ORG_ID"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"TWITTER_CONSUMER_KEY"})," + ",e.jsx("code",{children:"SECRET"})," + ",e.jsx("code",{children:"ACCESS_TOKEN"})," + ",e.jsx("code",{children:"SECRET"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"REDDIT_USERNAME"})," + ",e.jsx("code",{children:"PASSWORD"})," + ",e.jsx("code",{children:"CLIENT_ID"})," + ",e.jsx("code",{children:"CLIENT_SECRET"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"GOOGLE_INDEXING_API_KEY"})]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"RESEND_API_KEY"})," (newsletter)"]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"NEWSLETTER_FROM_EMAIL"})]})]})]})]})]})]})})}),e.jsxs(C,{value:"seo",className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(r,{children:e.jsxs(l,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(B,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"RSS Feed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-generated from published posts"})]})]}),e.jsx(o,{asChild:!0,size:"sm",variant:"outline",className:"w-full",children:e.jsxs("a",{href:"undefined/functions/v1/rss-feed",target:"_blank",rel:"noopener noreferrer",children:[e.jsx(B,{className:"mr-2 h-3 w-3"})," View RSS Feed"]})})]})}),e.jsx(r,{children:e.jsxs(l,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(D,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Sitemap"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dynamic XML sitemap with all posts"})]})]}),e.jsx(o,{asChild:!0,size:"sm",variant:"outline",className:"w-full",children:e.jsxs("a",{href:"undefined/functions/v1/sitemap-generator",target:"_blank",rel:"noopener noreferrer",children:[e.jsx(D,{className:"mr-2 h-3 w-3"})," View Sitemap"]})})]})}),e.jsx(r,{children:e.jsxs(l,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Newsletter"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[F," active subscribers"]})]})]}),e.jsxs(o,{size:"sm",variant:"outline",className:"w-full",onClick:()=>g.mutate(),disabled:g.isPending,children:[e.jsx(S,{className:"mr-2 h-3 w-3"})," ",g.isPending?"Sending…":"Send Weekly Digest"]})]})})]}),e.jsx(r,{children:e.jsxs(l,{className:"pt-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"SEO Automation Pipeline"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"RSS Feed",status:"active"},{label:"Dynamic Sitemap",status:"active"},{label:"Google Indexing",status:a!=null&&a.google_indexing_enabled?"active":"setup"},{label:"Newsletter",status:a!=null&&a.newsletter_enabled?"active":"setup"},{label:"Daily Cron",status:a!=null&&a.is_enabled?"active":"setup"}].map(s=>e.jsxs(h,{variant:s.status==="active"?"default":"outline",className:"text-xs",children:[s.status==="active"?"✅":"⏳"," ",s.label]},s.label))})]})})]})]})]})]})}export{ke as default};
