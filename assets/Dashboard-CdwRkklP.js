import{c as g,j as e,Y as f,m as j,D as v,f as N,Z as b,aJ as y,T as _,G as w}from"./index-CZjjzW98.js";import{S}from"./SEOHead-BQntEyAM.js";import{C as a,c as i,a as m,b as x}from"./card-B5Gfyd7p.js";import{B as u}from"./badge-BpWL1baF.js";import{P as p}from"./progress-3liUBpPi.js";import{m as A}from"./use-backend-C-fVTGhT.js";import{C}from"./chart-column-fU2yybvi.js";import{T as k}from"./trending-up-U3mK_fla.js";import"./useQuery-CPO4fHLH.js";import"./useMutation-DDTMDbh5.js";import"./api-BTF2QDx4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=g("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=g("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),L={top_geos:[{country:"United States",flag:"ðŸ‡ºðŸ‡¸",bandwidth_gb:42100,users:1420},{country:"Germany",flag:"ðŸ‡©ðŸ‡ª",bandwidth_gb:18700,users:620},{country:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§",bandwidth_gb:14300,users:480},{country:"Brazil",flag:"ðŸ‡§ðŸ‡·",bandwidth_gb:11200,users:390},{country:"Japan",flag:"ðŸ‡¯ðŸ‡µ",bandwidth_gb:9800,users:310}]},R=[{id:"1",type:"error",message:"Error rate spike: 8.2% in EU-West cluster (last 15 min)",icon:b},{id:"2",type:"warning",message:"Suspicious usage: user #3841 â€” 12 GB in 30 minutes from 4 geos",icon:y},{id:"3",type:"warning",message:"3 charge failures in the last hour â€” Stripe webhook delays",icon:j},{id:"4",type:"info",message:"Ban spike: 6.1% block rate on residential-US pool",icon:_}];function d({title:t,value:c,change:r,icon:s,prefix:n="",suffix:o=""}){const l=(r??0)>=0;return e.jsx(a,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t}),e.jsxs("p",{className:"mt-1 text-2xl font-bold",children:[n,c,o]}),r!==void 0&&e.jsxs("div",{className:`mt-1 flex items-center gap-1 text-xs ${l?"text-green-600":"text-destructive"}`,children:[l?e.jsx(U,{className:"h-3 w-3"}):e.jsx(T,{className:"h-3 w-3"}),Math.abs(r),"% from last month"]})]}),e.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:e.jsx(s,{className:"h-5 w-5 text-primary"})})]})})})}function I(){const{data:t,isLoading:c}=A();if(c)return e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading statsâ€¦"});const r={total_users:(t==null?void 0:t.total_users)??0,active_orders:(t==null?void 0:t.total_active_proxies)??0,total_revenue:(t==null?void 0:t.total_revenue)??0,total_balance:(t==null?void 0:t.system_total_balance)??0,recent_registrations:(t==null?void 0:t.recent_registrations)??0,revenue_24h:(t==null?void 0:t.revenue_last_24h)??0,active_proxies:32e5,uptime:99.98,error_rate:1.2,recent_sales:[],top_geos:L.top_geos};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Admin Overview",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Overview"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"System-wide KPIs and operational status."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(d,{title:"Total Users",value:(r.total_users||0).toLocaleString(),icon:f,change:r.recent_registrations>0?100:0}),e.jsx(d,{title:"Active Orders",value:(r.active_orders||0).toLocaleString(),icon:j}),e.jsx(d,{title:"Total Revenue",value:(r.total_revenue||0).toLocaleString(),icon:v,prefix:"$",change:r.revenue_24h>0?5:0}),e.jsx(d,{title:"Total Balance",value:(r.total_balance||0).toLocaleString(),icon:C,prefix:"$"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(a,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Proxies"}),e.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.active_proxies/1e6).toFixed(1),"M+"]})]}),e.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:e.jsx(N,{className:"h-5 w-5 text-primary"})})]})})}),e.jsx(a,{children:e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Uptime"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.uptime,"%"]})]}),e.jsx(u,{variant:"default",className:"bg-success text-success-foreground",children:"Healthy"})]}),e.jsx(p,{value:r.uptime,className:"mt-3 h-2"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.error_rate,"%"]})]}),e.jsx(u,{variant:"default",children:"Normal"})]}),e.jsx(p,{value:r.error_rate,max:10,className:"mt-3 h-2"})]})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsxs(a,{children:[e.jsx(m,{children:e.jsx(x,{className:"text-lg",children:"Operational Alerts"})}),e.jsx(i,{className:"space-y-3",children:R.map(s=>e.jsxs("div",{className:`flex items-start gap-3 rounded-md border p-3 text-sm ${s.type==="error"?"border-destructive/30 bg-destructive/5":s.type==="warning"?"border-yellow-500/30 bg-yellow-500/5":"border-border bg-muted/30"}`,children:[e.jsx(s.icon,{className:`mt-0.5 h-4 w-4 shrink-0 ${s.type==="error"?"text-destructive":s.type==="warning"?"text-yellow-600":"text-muted-foreground"}`}),e.jsx("span",{children:s.message})]},s.id))})]}),e.jsxs(a,{children:[e.jsx(m,{children:e.jsxs(x,{className:"text-lg flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"})," Recent Sales"]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-4",children:r.recent_sales.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.user}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.plan," Â· ",s.time]})]}),e.jsxs("span",{className:"font-semibold text-primary",children:["+$",s.amount]})]},n))})})]})]}),e.jsxs(a,{children:[e.jsx(m,{children:e.jsxs(x,{className:"text-lg flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"})," Top Geographies (30d)"]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:r.top_geos.map((s,n)=>{var h;const o=((h=r.top_geos[0])==null?void 0:h.bandwidth_gb)||1,l=Math.round(s.bandwidth_gb/o*100);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium",children:[s.flag," ",s.country,e.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",(s.users||0).toLocaleString()," users)"]})]}),e.jsxs("span",{className:"text-muted-foreground",children:[Number(s.bandwidth_gb/1e3).toFixed(1)," TB"]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:e.jsx("div",{className:"h-2 rounded-full bg-primary transition-all",style:{width:`${l}%`}})})]},s.country)})})})]})]})]})}export{I as default};
