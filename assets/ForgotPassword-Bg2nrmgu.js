import{r as s,j as e,B as m,L as d,I as g}from"./index-BuE-Xh2G.js";import{a as w}from"./api-BTF2QDx4.js";import{S as u}from"./SEOHead-DoxekdhE.js";import{L as N}from"./label-DfxgaNDc.js";import{C as b}from"./circle-check-BvABHy31.js";import{A as y}from"./arrow-left-BZxTx4CL.js";import{L as v}from"./loader-circle-CAHITXei.js";function P(){const[t,x]=s.useState(""),[a,l]=s.useState(!1),[f,h]=s.useState(!1),[n,i]=s.useState(null),p=async r=>{var o,c;if(r.preventDefault(),!!t.trim()){l(!0),i(null);try{await w.post("/forgot-password",{email:t}),h(!0)}catch(j){i(((c=(o=j.response)==null?void 0:o.data)==null?void 0:c.error)||"An error occurred. Please try again.")}finally{l(!1)}}};return f?e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Check Your Email",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8 text-center",children:[e.jsx(b,{className:"mx-auto h-12 w-12 text-success"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If an account exists with that email, we've sent a password reset link."}),e.jsx(m,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx(d,{to:"/login",children:"Back to Login"})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Forgot Password",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("form",{onSubmit:p,className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8",children:[e.jsxs(d,{to:"/login",className:"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[e.jsx(y,{className:"h-3 w-3"})," Back to Login"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and we'll send a reset link."}),n&&e.jsx("p",{className:"text-sm text-destructive",children:n}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",value:t,onChange:r=>x(r.target.value),required:!0})]}),e.jsxs(m,{type:"submit",className:"w-full",disabled:a,children:[a&&e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Link"]})]})})]})}export{P as default};
