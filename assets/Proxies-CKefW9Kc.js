import{r,i as se,t as z,j as e,y as P,z as T,E as k,J as L,K as f,I as F,a as i,N as E}from"./index-BUbETakz.js";import{S as te}from"./SEOHead-Bt35TWdP.js";import{E as ae}from"./ErrorBanner-BeQZXsdR.js";import{L as x}from"./label-SIQxsXuV.js";import{C as b,a as B,b as G,c as v}from"./card-DX_4htAf.js";import{T as ne}from"./textarea-C4UsO5FI.js";import{T as re,a as le,b as R,c as U}from"./tabs-DwchOpWN.js";import{T as oe,a as ie,b as I,c as m,d as ce,e as u}from"./table-DfcVc9DS.js";import{B as de}from"./badge-X0ZTVhbe.js";import{c as V}from"./dashboard-jJVQC_pB.js";import{L as xe}from"./loader-circle-Bjnortyl.js";import{C as Q}from"./copy-hT8MzcMK.js";import"./circle-alert-DFMgKRIi.js";const K=[{value:"residential",label:"Residential"},{value:"datacenter",label:"Datacenter"},{value:"isp",label:"ISP"},{value:"mobile",label:"Mobile"},{value:"socks5",label:"SOCKS5"}],me=["United States","United Kingdom","Germany","France","Japan","Brazil","India","Canada","Australia","Netherlands"];function A(s){return`${s.host}:${s.port}:${s.username}:${s.password}`}function ue(s){return`curl -x http://${s.username}:${s.password}@${s.host}:${s.port} https://httpbin.org/ip`}function he(s){return`import requests

proxies = {
    "http": "http://${s.username}:${s.password}@${s.host}:${s.port}",
    "https": "http://${s.username}:${s.password}@${s.host}:${s.port}",
}
response = requests.get("https://httpbin.org/ip", proxies=proxies)
print(response.json())`}function pe(s){return`const HttpsProxyAgent = require('https-proxy-agent');

const agent = new HttpsProxyAgent(
  'http://${s.username}:${s.password}@${s.host}:${s.port}'
);

fetch('https://httpbin.org/ip', { agent })
  .then(res => res.json())
  .then(console.log);`}function ke(){const[s,h]=r.useState("residential"),[l,J]=r.useState(""),[N,M]=r.useState(""),[p,_]=r.useState("rotating"),[c,W]=r.useState(10),[w,q]=r.useState(!1),[D,d]=r.useState(null),[n,X]=r.useState([]),{data:C}=se({queryKey:["plans"],queryFn:()=>V.getPlans()}),j=(C==null?void 0:C.map(t=>({value:t.id,label:t.name,type:t.id})))||K,Y=r.useCallback(async()=>{if(d(null),!l){d("Please select a country.");return}if(c<1||c>1e3){d("Quantity must be between 1 and 1000.");return}q(!0);try{if(!(j==null?void 0:j.find(o=>o.value===s)))throw new Error("Product not found");const a=await V.generateProxies({product:s,country:l,city:N||void 0,session_type:p,quantity:c});X(a.proxies),z({title:"Proxies Generated",description:`${a.proxies.length} proxies ready.`})}catch(t){const a=t instanceof Error?t.message:"Failed to generate proxies.";d(a)}finally{q(!1)}},[s,l,N,p,c,j]),Z=r.useCallback(()=>{const t=n.map(A).join(`
`);navigator.clipboard.writeText(t),z({title:"Copied",description:"All proxies copied to clipboard."})},[n]),S=r.useCallback(t=>{let a,o;t==="json"?(a=JSON.stringify(n,null,2),o="application/json"):t==="csv"?(a=`host,port,username,password
`+n.map(y=>`${y.host},${y.port},${y.username},${y.password}`).join(`
`),o="text/csv"):(a=n.map(A).join(`
`),o="text/plain");const ee=new Blob([a],{type:o}),H=URL.createObjectURL(ee),$=document.createElement("a");$.href=H,$.download=`proxies.${t}`,$.click(),URL.revokeObjectURL(H)},[n]),g=n[0];return e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"Proxy Generator",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Proxy Generator"}),e.jsxs(b,{children:[e.jsx(B,{children:e.jsx(G,{className:"text-lg",children:"Generate Proxies"})}),e.jsxs(v,{className:"space-y-4",children:[D&&e.jsx(ae,{message:D,onDismiss:()=>d(null)}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Product"}),e.jsxs(P,{value:s,onValueChange:h,children:[e.jsx(T,{children:e.jsx(k,{})}),e.jsx(L,{children:K.map(t=>e.jsx(f,{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Country"}),e.jsxs(P,{value:l,onValueChange:J,children:[e.jsx(T,{children:e.jsx(k,{placeholder:"Select..."})}),e.jsx(L,{children:me.map(t=>e.jsx(f,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"City (optional)"}),e.jsx(F,{value:N,onChange:t=>M(t.target.value),placeholder:"Any"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Session Type"}),e.jsxs(P,{value:p,onValueChange:_,children:[e.jsx(T,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(f,{value:"rotating",children:"Rotating"}),e.jsx(f,{value:"sticky",children:"Sticky"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Quantity"}),e.jsx(F,{type:"number",min:1,max:1e3,value:c,onChange:t=>W(Number(t.target.value))})]})]}),e.jsxs(i,{onClick:Y,disabled:w,children:[w&&e.jsx(xe,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Generating…":"Generate Proxies"]})]})]}),n.length>0&&e.jsxs(re,{defaultValue:"output",children:[e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:e.jsxs(le,{children:[e.jsx(R,{value:"output",children:"Output"}),e.jsx(R,{value:"table",children:"Table View"}),e.jsx(R,{value:"snippets",children:"Config Snippets"})]})}),e.jsx(U,{value:"output",className:"mt-4",children:e.jsxs(b,{children:[e.jsx(B,{className:"flex flex-row items-center justify-between pb-2",children:e.jsxs(G,{className:"text-sm",children:[e.jsx(de,{variant:"secondary",className:"mr-2",children:n.length}),"proxies generated • ",s," • ",l," • ",p]})}),e.jsxs(v,{className:"space-y-3",children:[e.jsx(ne,{readOnly:!0,className:"font-mono text-xs leading-relaxed min-h-[200px] max-h-[400px] resize-y bg-muted",value:n.map(A).join(`
`),onFocus:t=>t.target.select()}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(i,{variant:"default",size:"sm",onClick:Z,children:[e.jsx(Q,{className:"mr-1.5 h-3.5 w-3.5"})," Copy All"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>S("txt"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .txt"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>S("csv"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .csv"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>S("json"),children:[e.jsx(E,{className:"mr-1.5 h-3.5 w-3.5"})," Download .json"]})]})]})]})}),e.jsx(U,{value:"table",className:"mt-4",children:e.jsx(b,{children:e.jsx(v,{className:"p-0",children:e.jsx("div",{className:"max-h-96 overflow-auto",children:e.jsxs(oe,{children:[e.jsx(ie,{children:e.jsxs(I,{children:[e.jsx(m,{className:"w-12",children:"#"}),e.jsx(m,{children:"Host"}),e.jsx(m,{children:"Port"}),e.jsx(m,{children:"Username"}),e.jsx(m,{children:"Password"})]})}),e.jsx(ce,{children:n.map((t,a)=>e.jsxs(I,{children:[e.jsx(u,{className:"text-muted-foreground",children:a+1}),e.jsx(u,{className:"font-mono text-xs",children:t.host}),e.jsx(u,{className:"font-mono text-xs",children:t.port}),e.jsx(u,{className:"font-mono text-xs",children:t.username}),e.jsx(u,{className:"font-mono text-xs",children:t.password})]},a))})]})})})})}),e.jsx(U,{value:"snippets",className:"mt-4 space-y-4",children:g&&e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"cURL",code:ue(g)}),e.jsx(O,{title:"Python (requests)",code:he(g)}),e.jsx(O,{title:"Node.js (fetch)",code:pe(g)})]})})]})]})]})}function O({title:s,code:h}){const l=()=>{navigator.clipboard.writeText(h),z({title:"Copied",description:`${s} snippet copied.`})};return e.jsxs(b,{children:[e.jsxs(B,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(G,{className:"text-sm",children:s}),e.jsxs(i,{variant:"ghost",size:"sm",onClick:l,children:[e.jsx(Q,{className:"mr-1 h-3.5 w-3.5"})," Copy"]})]}),e.jsx(v,{children:e.jsx("pre",{className:"overflow-x-auto rounded-md bg-muted p-3 text-xs leading-relaxed",children:h})})]})}export{ke as default};
