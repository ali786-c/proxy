import{j as e,x as c}from"./ui-DC8iaVTx.js";import{av as v,r as d,a4 as y,aw as N,L as b}from"./vendor-4c0ygcws.js";import{u as C,t as S}from"./zod-bSGV_nZu.js";import{a as E,I as r,t as _,o as k,s as i}from"./index-CcHejEN1.js";import{S as x}from"./SEOHead-DYPNnLAR.js";import{E as F}from"./ErrorBanner-DyTGRRhE.js";import{L as n}from"./label-BsBlhyYN.js";const L=k({name:i().trim().min(1,"Name is required").max(100),email:i().trim().min(1,"Email is required").email("Enter a valid email address"),password:i().min(8,"Password must be at least 8 characters").max(128),password_confirmation:i()}).refine(a=>a.password===a.password_confirmation,{message:"Passwords do not match",path:["password_confirmation"]});function U(){const{signup:a,clearError:p,error:m}=E(),u=v(),[o,l]=d.useState(!1),[h,f]=d.useState(!1),{register:t,handleSubmit:j,formState:{errors:s}}=C({resolver:S(L),defaultValues:{name:"",email:"",password:"",password_confirmation:""}}),w=async g=>{l(!0);try{await a(g),f(!0),_({title:"Verification email sent",description:"Please check your inbox to verify your email address."})}catch{}finally{l(!1)}};return h?e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Verify Email",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8 text-center",children:[e.jsx(y,{className:"mx-auto h-12 w-12 text-success"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification link to your email. Click the link to activate your account."}),e.jsx(c,{variant:"outline",className:"w-full",onClick:()=>u("/login"),children:"Go to Login"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Sign Up",description:"Create your UpgradedProxy account.",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("form",{onSubmit:j(w),className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8",noValidate:!0,children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),m&&e.jsx(F,{message:m,onDismiss:p}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",autoComplete:"name","aria-invalid":!!s.name,...t("name")}),s.name&&e.jsx("p",{className:"text-xs text-destructive",children:s.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",autoComplete:"email","aria-invalid":!!s.email,...t("email")}),s.email&&e.jsx("p",{className:"text-xs text-destructive",children:s.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password",children:"Password"}),e.jsx(r,{id:"password",type:"password",autoComplete:"new-password","aria-invalid":!!s.password,...t("password")}),s.password&&e.jsx("p",{className:"text-xs text-destructive",children:s.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(r,{id:"password_confirmation",type:"password",autoComplete:"new-password","aria-invalid":!!s.password_confirmation,...t("password_confirmation")}),s.password_confirmation&&e.jsx("p",{className:"text-xs text-destructive",children:s.password_confirmation.message})]}),e.jsxs(c,{type:"submit",className:"w-full",disabled:o,children:[o&&e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),o?"Creating accountâ€¦":"Create Account"]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(b,{to:"/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})}export{U as default};
