import{r as s,j as e,B as m,L as c,I as p,s as j}from"./index-WAZqrxeU.js";import{S as d}from"./SEOHead-BQbD0fka.js";import{L as g}from"./label-Cv0_4Q_2.js";import{C as w}from"./circle-check-Dv33wnTl.js";import{A as N}from"./arrow-left-CH2FGTaZ.js";import{L as b}from"./loader-circle-CkOwjKTV.js";function C(){const[t,u]=s.useState(""),[a,i]=s.useState(!1),[x,h]=s.useState(!1),[l,n]=s.useState(null),f=async r=>{if(r.preventDefault(),!t.trim())return;i(!0),n(null);const{error:o}=await j.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});i(!1),o?n(o.message):h(!0)};return x?e.jsxs(e.Fragment,{children:[e.jsx(d,{title:"Check Your Email",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8 text-center",children:[e.jsx(w,{className:"mx-auto h-12 w-12 text-success"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If an account exists with that email, we've sent a password reset link."}),e.jsx(m,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx(c,{to:"/login",children:"Back to Login"})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{title:"Forgot Password",noindex:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:e.jsxs("form",{onSubmit:f,className:"w-full max-w-sm space-y-4 rounded-lg border bg-card p-8",children:[e.jsxs(c,{to:"/login",className:"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[e.jsx(N,{className:"h-3 w-3"})," Back to Login"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and we'll send a reset link."}),l&&e.jsx("p",{className:"text-sm text-destructive",children:l}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",value:t,onChange:r=>u(r.target.value),required:!0})]}),e.jsxs(m,{type:"submit",className:"w-full",disabled:a,children:[a&&e.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Link"]})]})})]})}export{C as default};
