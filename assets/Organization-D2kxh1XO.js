import{c as J,h as Y,ab as $,r as o,j as e,B as i,I as z,aH as G,Y as W,q as X,v as Z,w as ee,x as se,y as g,aI as ae,t as T}from"./index-BS3MrMDR.js";import{S as le}from"./SEOHead-CxpTJHm8.js";import{C as x,c as y,a as p,b as N,d as ne}from"./card-DayAM_BL.js";import{L as v}from"./label-WpXwRrp2.js";import{B as f}from"./badge-TlMpNj1c.js";import{T as k,a as E,b as m,c as a,d as F,e as l}from"./table-BLekKfgE.js";import{D as M,a as _,b as H,c as L,d as R,e as B,g as K}from"./dialog-Du_uRE6n.js";import{u as C}from"./useQuery-D_JWgd3B.js";import{u as P}from"./useMutation-BUadc-Ou.js";import{P as re}from"./plus-DJNvFprH.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function ye(){const{user:n}=Y(),b=$(),[w,S]=o.useState(""),[j,D]=o.useState(""),[I,Q]=o.useState("member"),{data:r,isLoading:O}=C({queryKey:["orgs",n==null?void 0:n.id],enabled:!!(n!=null&&n.id),queryFn:async()=>[]}),A=P({mutationFn:async()=>{},onSuccess:()=>{b.invalidateQueries({queryKey:["orgs"]}),S(""),T({title:"Organization Created (Mock)"})}}),[t,U]=o.useState(null),{data:h}=C({queryKey:["org-members",t],enabled:!!t,queryFn:async()=>[]}),{data:u}=C({queryKey:["org-invites",t],enabled:!!t,queryFn:async()=>[]}),V=P({mutationFn:async()=>{console.log("Inviting",j,"as",I)},onSuccess:()=>{b.invalidateQueries({queryKey:["org-invites"]}),D(""),T({title:"Invite Sent (Mock)"})}}),q={owner:"default",admin:"secondary",member:"outline",viewer:"outline"};return e.jsxs(e.Fragment,{children:[e.jsx(le,{title:"Organization",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Organizations"}),e.jsxs(M,{children:[e.jsx(_,{asChild:!0,children:e.jsxs(i,{size:"sm",children:[e.jsx(re,{className:"mr-1 h-4 w-4"})," Create Org"]})}),e.jsxs(H,{children:[e.jsx(L,{children:e.jsx(R,{children:"Create Organization"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Organization Name"}),e.jsx(z,{value:w,onChange:s=>S(s.target.value),placeholder:"Acme Corp"})]})}),e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(i,{variant:"outline",children:"Cancel"})}),e.jsx(i,{onClick:()=>A.mutate(),disabled:!w.trim(),children:"Create"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[O&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),(r==null?void 0:r.length)===0&&!O&&e.jsx(x,{className:"col-span-full",children:e.jsxs(y,{className:"py-8 text-center",children:[e.jsx(G,{className:"mx-auto h-10 w-10 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No organizations yet. Create one to get started."})]})}),r==null?void 0:r.map(s=>{var c,d;return e.jsx(x,{className:`cursor-pointer transition-colors ${t===s.org_id?"border-primary":""}`,onClick:()=>U(s.org_id),children:e.jsxs(p,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{className:"text-base",children:(c=s.organizations)==null?void 0:c.name}),e.jsx(f,{variant:q[s.role]??"outline",children:s.role})]}),e.jsxs(ne,{className:"text-xs",children:["Slug: ",(d=s.organizations)==null?void 0:d.slug]})]})},s.org_id)})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between",children:[e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"})," Members"]}),e.jsxs(M,{children:[e.jsx(_,{asChild:!0,children:e.jsxs(i,{size:"sm",children:[e.jsx(te,{className:"mr-1 h-4 w-4"})," Invite"]})}),e.jsxs(H,{children:[e.jsx(L,{children:e.jsx(R,{children:"Invite Member"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Email"}),e.jsx(z,{value:j,onChange:s=>D(s.target.value),placeholder:"user@example.com",type:"email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Role"}),e.jsxs(X,{value:I,onValueChange:Q,children:[e.jsx(Z,{children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"admin",children:"Admin"}),e.jsx(g,{value:"member",children:"Member"}),e.jsx(g,{value:"viewer",children:"Viewer"})]})]})]})]}),e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(i,{variant:"outline",children:"Cancel"})}),e.jsx(i,{onClick:()=>V.mutate(),disabled:!j,children:"Send Invite"})]})]})]})]}),e.jsx(y,{className:"p-0",children:e.jsxs(k,{children:[e.jsx(E,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Department"}),e.jsx(a,{children:"Joined"})]})}),e.jsx(F,{children:h==null?void 0:h.map(s=>{var c,d;return e.jsxs(m,{children:[e.jsx(l,{className:"font-medium text-sm",children:((c=s.profiles)==null?void 0:c.full_name)||"—"}),e.jsx(l,{className:"text-sm",children:((d=s.profiles)==null?void 0:d.email)||"—"}),e.jsx(l,{children:e.jsx(f,{variant:q[s.role]??"outline",className:"text-xs",children:s.role})}),e.jsx(l,{className:"text-sm text-muted-foreground",children:s.department||"—"}),e.jsx(l,{className:"text-xs text-muted-foreground",children:s.joined_at?new Date(s.joined_at).toLocaleDateString():"—"})]},s.id)})})]})})]}),u&&u.length>0&&e.jsxs(x,{children:[e.jsx(p,{children:e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"})," Pending Invites"]})}),e.jsx(y,{className:"p-0",children:e.jsxs(k,{children:[e.jsx(E,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Expires"})]})}),e.jsx(F,{children:u.map(s=>e.jsxs(m,{children:[e.jsx(l,{className:"text-sm",children:s.email}),e.jsx(l,{children:e.jsx(f,{variant:"outline",className:"text-xs",children:s.role})}),e.jsx(l,{className:"text-xs text-muted-foreground",children:s.expires_at?new Date(s.expires_at).toLocaleDateString():"—"})]},s.id))})]})})]})]})]})]})}export{ye as default};
