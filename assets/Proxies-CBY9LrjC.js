import{r,t as R,j as e,q as S,v as P,w as T,x as k,y as f,I as D,B as i,z as L}from"./index-DroWz3-G.js";import{S as ee}from"./SEOHead-BWHcznh9.js";import{E as se}from"./ErrorBanner-Dtd3bkaT.js";import{L as m}from"./label-aMCsD8Lk.js";import{C as v,a as U,b as z,c as b}from"./card-CnocJ3Vi.js";import{T as te}from"./textarea-8vMB9_K6.js";import{T as ae,a as re,b as A,c as B}from"./tabs-CfAVF83-.js";import{T as ne,a as oe,b as I,c as h,d as le,e as p}from"./table-BZIvQM2r.js";import{B as ie}from"./badge-BzW6HVQQ.js";import{u as ce,a as de,b as xe}from"./use-backend-CuG1z1dB.js";import{L as me}from"./loader-circle-hOFnmCtk.js";import{C as F}from"./copy-CFUFeLJQ.js";import"./circle-alert-COkHJ4pY.js";import"./useQuery-D5H6PY99.js";import"./useMutation-CmgPD0Zb.js";import"./api-CW1y2m9B.js";const he=["United States","United Kingdom","Germany","France","Japan","Brazil","India","Canada","Australia","Netherlands"];function E(s){return`${s.host}:${s.port}:${s.username}:${s.password}`}function pe(s){return`curl -x http://${s.username}:${s.password}@${s.host}:${s.port} https://httpbin.org/ip`}function ue(s){return`import requests

proxies = {
    "http": "http://${s.username}:${s.password}@${s.host}:${s.port}",
    "https": "http://${s.username}:${s.password}@${s.host}:${s.port}",
}
response = requests.get("https://httpbin.org/ip", proxies=proxies)
print(response.json())`}function je(s){return`const HttpsProxyAgent = require('https-proxy-agent');

const agent = new HttpsProxyAgent(
  'http://${s.username}:${s.password}@${s.host}:${s.port}'
);

fetch('https://httpbin.org/ip', { agent })
  .then(res => res.json())
  .then(console.log);`}function Ee(){const{data:s}=ce(),{data:N}=de(),u=xe(),[c,J]=r.useState(""),[O,Q]=r.useState(""),[K,_]=r.useState(""),[H,M]=r.useState("rotating"),[w,W]=r.useState(1),[C,q]=r.useState(!1),[V,j]=r.useState(null),[a,X]=r.useState([]),Y=r.useCallback(async()=>{var t,n,o;if(j(null),!c){j("Please select a product.");return}q(!0);try{const l=s==null?void 0:s.find(x=>x.type===c);if(!l)throw new Error("Product not found");const d=await u.mutateAsync({product_id:l.id,quantity:w});X(d.proxies||[]),R({title:"Proxies Generated",description:`${((t=d.proxies)==null?void 0:t.length)||0} proxies ready.`})}catch(l){j(((o=(n=l.response)==null?void 0:n.data)==null?void 0:o.error)||l.message)}finally{q(!1)}},[c,s,w,u]),Z=r.useCallback(()=>{const t=a.map(E).join(`
`);navigator.clipboard.writeText(t),R({title:"Copied",description:"All proxies copied to clipboard."})},[a]),$=r.useCallback(t=>{let n,o;t==="json"?(n=JSON.stringify(a,null,2),o="application/json"):t==="csv"?(n=`host,port,username,password
`+a.map(y=>`${y.host},${y.port},${y.username},${y.password}`).join(`
`),o="text/csv"):(n=a.map(E).join(`
`),o="text/plain");const l=new Blob([n],{type:o}),d=URL.createObjectURL(l),x=document.createElement("a");x.href=d,x.download=`proxies.${t}`,x.click(),URL.revokeObjectURL(d)},[a]),g=a[0];return e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Proxy Generator",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Proxy Generator"}),e.jsxs(v,{children:[e.jsx(U,{children:e.jsx(z,{className:"text-lg",children:"Generate Proxies"})}),e.jsxs(b,{className:"space-y-4",children:[V&&e.jsx(se,{message:V,onDismiss:()=>j(null)}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Product"}),e.jsxs(S,{value:c,onValueChange:J,children:[e.jsx(P,{children:e.jsx(T,{placeholder:"Select Product..."})}),e.jsx(k,{children:(s??[]).map(t=>e.jsx(f,{value:t.type,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Country"}),e.jsxs(S,{value:O,onValueChange:Q,children:[e.jsx(P,{children:e.jsx(T,{placeholder:"Select..."})}),e.jsx(k,{children:he.map(t=>e.jsx(f,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"City (optional)"}),e.jsx(D,{value:K,onChange:t=>_(t.target.value),placeholder:"Any"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Session Type"}),e.jsxs(S,{value:H,onValueChange:M,children:[e.jsx(P,{children:e.jsx(T,{})}),e.jsxs(k,{children:[e.jsx(f,{value:"rotating",children:"Rotating"}),e.jsx(f,{value:"sticky",children:"Sticky"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Quantity"}),e.jsx(D,{type:"number",min:1,max:1e3,value:w,onChange:t=>W(Number(t.target.value))})]})]}),e.jsxs(i,{onClick:Y,disabled:C,children:[C&&e.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),C?"Generating…":"Generate Proxies"]})]})]}),a.length>0&&e.jsxs(ae,{defaultValue:"output",children:[e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:e.jsxs(re,{children:[e.jsx(A,{value:"output",children:"Output"}),e.jsx(A,{value:"table",children:"Table View"}),e.jsx(A,{value:"snippets",children:"Config Snippets"})]})}),e.jsx(B,{value:"output",className:"mt-4",children:e.jsxs(v,{children:[e.jsx(U,{className:"flex flex-row items-center justify-between pb-2",children:e.jsxs(z,{className:"text-sm",children:[e.jsx(ie,{variant:"secondary",className:"mr-2",children:a.length}),"proxies generated • ",c," • ",O," • ",H]})}),e.jsxs(b,{className:"space-y-3",children:[e.jsx(te,{readOnly:!0,className:"font-mono text-xs leading-relaxed min-h-[200px] max-h-[400px] resize-y bg-muted",value:a.map(E).join(`
`),onFocus:t=>t.target.select()}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(i,{variant:"default",size:"sm",onClick:Z,children:[e.jsx(F,{className:"mr-1.5 h-3.5 w-3.5"})," Copy All"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>$("txt"),children:[e.jsx(L,{className:"mr-1.5 h-3.5 w-3.5"})," Download .txt"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>$("csv"),children:[e.jsx(L,{className:"mr-1.5 h-3.5 w-3.5"})," Download .csv"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>$("json"),children:[e.jsx(L,{className:"mr-1.5 h-3.5 w-3.5"})," Download .json"]})]})]})]})}),e.jsx(B,{value:"table",className:"mt-4",children:e.jsx(v,{children:e.jsx(b,{className:"p-0",children:e.jsx("div",{className:"max-h-96 overflow-auto",children:e.jsxs(ne,{children:[e.jsx(oe,{children:e.jsxs(I,{children:[e.jsx(h,{className:"w-12",children:"#"}),e.jsx(h,{children:"Host"}),e.jsx(h,{children:"Port"}),e.jsx(h,{children:"Username"}),e.jsx(h,{children:"Password"})]})}),e.jsx(le,{children:a.map((t,n)=>e.jsxs(I,{children:[e.jsx(p,{className:"text-muted-foreground",children:n+1}),e.jsx(p,{className:"font-mono text-xs",children:t.host}),e.jsx(p,{className:"font-mono text-xs",children:t.port}),e.jsx(p,{className:"font-mono text-xs",children:t.username}),e.jsx(p,{className:"font-mono text-xs",children:t.password})]},n))})]})})})})}),e.jsx(B,{value:"snippets",className:"mt-4 space-y-4",children:g&&e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"cURL",code:pe(g)}),e.jsx(G,{title:"Python (requests)",code:ue(g)}),e.jsx(G,{title:"Node.js (fetch)",code:je(g)})]})})]})]})]})}function G({title:s,code:N}){const u=()=>{navigator.clipboard.writeText(N),R({title:"Copied",description:`${s} snippet copied.`})};return e.jsxs(v,{children:[e.jsxs(U,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(z,{className:"text-sm",children:s}),e.jsxs(i,{variant:"ghost",size:"sm",onClick:u,children:[e.jsx(F,{className:"mr-1 h-3.5 w-3.5"})," Copy"]})]}),e.jsx(b,{children:e.jsx("pre",{className:"overflow-x-auto rounded-md bg-muted p-3 text-xs leading-relaxed",children:N})})]})}export{Ee as default};
