import{k as i,j as r,v as t,M as l,w as s,P as f,U as K,x as y,E as v,y as F,z as S,c as k}from"./index-DJiraoSc.js";import{u as a}from"./useMutation-DGFaLFNi.js";function C(){const e=r();return a({mutationFn:async n=>t.post("/profile",l,n),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function A(){return i({queryKey:["stats"],queryFn:async()=>t.get("/stats",s()),refetchInterval:1e3*60*5})}function P(e="7d"){return i({queryKey:["usage",e],queryFn:async()=>t.get(`/me/usage?range=${encodeURIComponent(e)}`,K),staleTime:1e3*60*5})}function h(){return i({queryKey:["events"],queryFn:async()=>t.get("/me/events",y(v))})}function w(){return i({queryKey:["invoices"],queryFn:async()=>t.get("/invoices",y(F))})}function B(){const e=r(),n=i({queryKey:["tickets"],queryFn:async()=>(await t.get("/support/tickets",y(s()))).map(u=>{var m;return{...u,messages:((m=u.messages)==null?void 0:m.map(d=>({...d,sender:d.is_admin_reply?"support":"client",text:d.message,time:d.created_at})))||[]}})}),c=a({mutationFn:async o=>t.post("/support/tickets",l,o),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})}),g=a({mutationFn:async({id:o,message:u})=>t.post(`/support/tickets/${o}/reply`,l,{message:u}),onSuccess:()=>{e.invalidateQueries({queryKey:["tickets"]}),e.invalidateQueries({queryKey:["admin","tickets"]})}}),p=a({mutationFn:async({id:o,status:u})=>t.post(`/admin/support/tickets/${o}/status`,l,{status:u}),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...n,createTicket:c,replyTicket:g,updateStatus:p}}function $(){return i({queryKey:["products"],queryFn:async()=>t.get("/products",y(S))})}function x(){const e=r();return a({mutationFn:async n=>t.post("/proxies/generate",f,n),onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function T(){return i({queryKey:["proxy-settings"],queryFn:async()=>k.getProxySettings(),staleTime:1e3*60*60})}function _(){const e=r(),n=i({queryKey:["admin","tickets"],queryFn:async()=>(await t.get("/admin/support/tickets",y(s()))).map(u=>{var m,d;return{id:String(u.id),user:((m=u.user)==null?void 0:m.email)||"Unknown",subject:u.subject,status:u.status,priority:u.priority==="normal"?"medium":u.priority,created_at:u.created_at,updated_at:u.updated_at,messages:((d=u.messages)==null?void 0:d.map(q=>({sender:q.is_admin_reply?"support":"client",text:q.message,time:q.created_at})))||[]}})}),c=a({mutationFn:async({id:o,message:u})=>t.post(`/admin/support/tickets/${o}/reply`,l,{message:u}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}}),g=a({mutationFn:async({id:o,status:u})=>t.post(`/admin/support/tickets/${o}/status`,l,{status:u}),onSuccess:()=>e.invalidateQueries({queryKey:["admin","tickets"]})}),p=a({mutationFn:async o=>{await t.delete(`/admin/support/tickets/${o}`,l)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}});return{...n,replyTicket:c,updateStatus:g,deleteTicket:p}}function U(){return i({queryKey:["admin","payment-gateways"],queryFn:async()=>t.get("/admin/payment-gateways",s())})}function R(){return i({queryKey:["blog","posts"],queryFn:async()=>t.get("/blog",y(s()))})}function j(e){return i({queryKey:["blog","post",e],queryFn:async()=>t.get(`/blog/${e}`,s()),enabled:!!e})}function I(){return i({queryKey:["admin","blog"],queryFn:async()=>t.get("/admin/blog",y(s()))})}function E(){const e=r();return a({mutationFn:n=>t.post("/admin/blog",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function G(){const e=r();return a({mutationFn:({id:n,data:c})=>t.put(`/admin/blog/${n}`,s(),c),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function M(){const e=r();return a({mutationFn:n=>t.delete(`/admin/blog/${n}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function z(){const e=r();return a({mutationFn:({id:n,is_draft:c})=>t.post(`/admin/blog/${n}/publish`,s(),{is_draft:c}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]})}})}function D(){return i({queryKey:["admin","blog","automation"],queryFn:()=>t.get("/admin/blog/automation",s())})}function H(){const e=r();return a({mutationFn:n=>t.post("/admin/blog/automation/settings",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function L(){const e=r();return a({mutationFn:n=>t.post("/admin/blog/automation/keywords",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function J(){const e=r();return a({mutationFn:n=>t.delete(`/admin/blog/automation/keywords/${n}`,s()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function N(){const e=r();return a({mutationFn:n=>t.post("/admin/blog/automation/trigger",s(),n||{}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]}),e.invalidateQueries({queryKey:["admin","blog","automation"]})}})}function O(){return i({queryKey:["admin","alerts","config"],queryFn:async()=>t.get("/admin/alerts/config",s())})}function V(){const e=r();return a({mutationFn:n=>t.patch("/admin/alerts/config",s(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","alerts","config"]})})}function W(e){return i({queryKey:["admin","fraud","signals",e],queryFn:async()=>{const n=e!==void 0?`/admin/fraud/signals?resolved=${e}`:"/admin/fraud/signals";return t.get(n,y(s()))}})}function X(){return i({queryKey:["admin","fraud","risk-scores"],queryFn:async()=>t.get("/admin/fraud/risk-scores",y(s()))})}function Y(){return i({queryKey:["admin","fraud","login-history"],queryFn:async()=>t.get("/admin/fraud/login-history",y(s()))})}function Z(){const e=r();return a({mutationFn:n=>t.put(`/admin/fraud/signals/${n}/resolve`,s()),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","fraud","signals"]}),e.invalidateQueries({queryKey:["admin-stats"]})}})}export{X as A,Y as B,Z as C,j as a,P as b,A as c,$ as d,T as e,x as f,h as g,w as h,B as i,C as j,I as k,E as l,G as m,M as n,z as o,D as p,H as q,L as r,J as s,N as t,R as u,O as v,V as w,U as x,_ as y,W as z};
