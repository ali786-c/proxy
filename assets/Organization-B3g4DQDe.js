import{c as J,i as $,ac as G,r as o,ab as g,j as e,B as i,I as z,av as W,U as X,q as Y,s as Z,v as ee,w as se,x as y,aw as ae,t as T}from"./index-C1kCz50d.js";import{S as le}from"./SEOHead-u4hIJoOZ.js";import{C as x,c as v,a as N,b as p,d as ne}from"./card-Bu6BJ_62.js";import{L as f}from"./label-Cr7dwrpk.js";import{B as C}from"./badge-BmWp3Vct.js";import{T as k,a as E,b as m,c as a,d as F,e as l}from"./table-CWx5UI-T.js";import{D as M,a as L,b as R,c as B,d as H,e as _,f as K}from"./dialog-BxZVWVEo.js";import{u as P}from"./useMutation-DZfREc09.js";import{P as re}from"./plus-iuzrYgYy.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function ge(){const{user:n}=$(),b=G(),[w,S]=o.useState(""),[j,D]=o.useState(""),[I,Q]=o.useState("member"),{data:r,isLoading:O}=g({queryKey:["orgs",n==null?void 0:n.id],enabled:!!(n!=null&&n.id),queryFn:async()=>[]}),U=P({mutationFn:async()=>{},onSuccess:()=>{b.invalidateQueries({queryKey:["orgs"]}),S(""),T({title:"Organization Created (Mock)"})}}),[t,A]=o.useState(null),{data:h}=g({queryKey:["org-members",t],enabled:!!t,queryFn:async()=>[]}),{data:u}=g({queryKey:["org-invites",t],enabled:!!t,queryFn:async()=>[]}),V=P({mutationFn:async()=>{console.log("Inviting",j,"as",I)},onSuccess:()=>{b.invalidateQueries({queryKey:["org-invites"]}),D(""),T({title:"Invite Sent (Mock)"})}}),q={owner:"default",admin:"secondary",member:"outline",viewer:"outline"};return e.jsxs(e.Fragment,{children:[e.jsx(le,{title:"Organization",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Organizations"}),e.jsxs(M,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(i,{size:"sm",children:[e.jsx(re,{className:"mr-1 h-4 w-4"})," Create Org"]})}),e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(H,{children:"Create Organization"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Organization Name"}),e.jsx(z,{value:w,onChange:s=>S(s.target.value),placeholder:"Acme Corp"})]})}),e.jsxs(_,{children:[e.jsx(K,{asChild:!0,children:e.jsx(i,{variant:"outline",children:"Cancel"})}),e.jsx(i,{onClick:()=>U.mutate(),disabled:!w.trim(),children:"Create"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[O&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),(r==null?void 0:r.length)===0&&!O&&e.jsx(x,{className:"col-span-full",children:e.jsxs(v,{className:"py-8 text-center",children:[e.jsx(W,{className:"mx-auto h-10 w-10 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No organizations yet. Create one to get started."})]})}),r==null?void 0:r.map(s=>{var c,d;return e.jsx(x,{className:`cursor-pointer transition-colors ${t===s.org_id?"border-primary":""}`,onClick:()=>A(s.org_id),children:e.jsxs(N,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-base",children:(c=s.organizations)==null?void 0:c.name}),e.jsx(C,{variant:q[s.role]??"outline",children:s.role})]}),e.jsxs(ne,{className:"text-xs",children:["Slug: ",(d=s.organizations)==null?void 0:d.slug]})]})},s.org_id)})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between",children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"})," Members"]}),e.jsxs(M,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(i,{size:"sm",children:[e.jsx(te,{className:"mr-1 h-4 w-4"})," Invite"]})}),e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(H,{children:"Invite Member"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Email"}),e.jsx(z,{value:j,onChange:s=>D(s.target.value),placeholder:"user@example.com",type:"email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Role"}),e.jsxs(Y,{value:I,onValueChange:Q,children:[e.jsx(Z,{children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(y,{value:"admin",children:"Admin"}),e.jsx(y,{value:"member",children:"Member"}),e.jsx(y,{value:"viewer",children:"Viewer"})]})]})]})]}),e.jsxs(_,{children:[e.jsx(K,{asChild:!0,children:e.jsx(i,{variant:"outline",children:"Cancel"})}),e.jsx(i,{onClick:()=>V.mutate(),disabled:!j,children:"Send Invite"})]})]})]})]}),e.jsx(v,{className:"p-0",children:e.jsxs(k,{children:[e.jsx(E,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Department"}),e.jsx(a,{children:"Joined"})]})}),e.jsx(F,{children:h==null?void 0:h.map(s=>{var c,d;return e.jsxs(m,{children:[e.jsx(l,{className:"font-medium text-sm",children:((c=s.profiles)==null?void 0:c.full_name)||"—"}),e.jsx(l,{className:"text-sm",children:((d=s.profiles)==null?void 0:d.email)||"—"}),e.jsx(l,{children:e.jsx(C,{variant:q[s.role]??"outline",className:"text-xs",children:s.role})}),e.jsx(l,{className:"text-sm text-muted-foreground",children:s.department||"—"}),e.jsx(l,{className:"text-xs text-muted-foreground",children:new Date(s.joined_at).toLocaleDateString()})]},s.id)})})]})})]}),u&&u.length>0&&e.jsxs(x,{children:[e.jsx(N,{children:e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"})," Pending Invites"]})}),e.jsx(v,{className:"p-0",children:e.jsxs(k,{children:[e.jsx(E,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Expires"})]})}),e.jsx(F,{children:u.map(s=>e.jsxs(m,{children:[e.jsx(l,{className:"text-sm",children:s.email}),e.jsx(l,{children:e.jsx(C,{variant:"outline",className:"text-xs",children:s.role})}),e.jsx(l,{className:"text-xs text-muted-foreground",children:new Date(s.expires_at).toLocaleDateString()})]},s.id))})]})})]})]})]})]})}export{ge as default};
