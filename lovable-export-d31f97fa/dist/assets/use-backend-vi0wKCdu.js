import{k as u,j as o,y as t,z as a,M as g,P as K,U as F,A as l,E as v,C as S,D as b,c as f}from"./index-CmkPm4ZO.js";import{u as i}from"./useMutation-zVhomvj5.js";function C(){const e=o();return i({mutationFn:async n=>t.post("/profile",g,n),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function h(){return u({queryKey:["stats"],queryFn:async()=>t.get("/stats",a()),refetchInterval:1e3*60*5})}function A(e="7d"){return u({queryKey:["usage",e],queryFn:async()=>t.get(`/me/usage?range=${encodeURIComponent(e)}`,F),staleTime:1e3*60*5})}function _(){return u({queryKey:["events"],queryFn:async()=>t.get("/me/events",l(v))})}function P(){return u({queryKey:["invoices"],queryFn:async()=>t.get("/invoices",l(S))})}function w(){const e=o(),n=u({queryKey:["tickets"],queryFn:async()=>(await t.get("/support/tickets",l(a()))).map(s=>{var y;return{...s,messages:((y=s.messages)==null?void 0:y.map(r=>({...r,sender:r.is_admin_reply?"support":"client",text:r.message,time:r.created_at,attachment_url:r.attachment_url,attachment_name:r.attachment_name})))||[]}})}),m=i({mutationFn:async({subject:c,message:s,priority:y,attachment:r})=>{const d=new FormData;return d.append("subject",c),d.append("message",s),d.append("priority",y),r&&d.append("attachment",r),t.post("/support/tickets",a(),d)},onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})}),p=i({mutationFn:async({id:c,message:s,attachment:y})=>{const r=new FormData;return r.append("message",s),y&&r.append("attachment",y),t.post(`/support/tickets/${c}/reply`,a(),r)},onSuccess:()=>{e.invalidateQueries({queryKey:["tickets"]}),e.invalidateQueries({queryKey:["admin","tickets"]})}}),q=i({mutationFn:async({id:c,status:s})=>t.post(`/admin/support/tickets/${c}/status`,a(),{status:s}),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...n,createTicket:m,replyTicket:p,updateStatus:q}}function $(){return u({queryKey:["products"],queryFn:async()=>t.get("/products",l(b))})}function B(){const e=o();return i({mutationFn:async n=>t.post("/proxies/generate",K,n),onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function T(){return u({queryKey:["proxy-settings"],queryFn:async()=>f.getProxySettings(),staleTime:1e3*60*60})}function x(){return u({queryKey:["referrals"],queryFn:async()=>f.getReferralStats()})}function D(){const e=o(),n=u({queryKey:["admin","tickets"],queryFn:async()=>(await t.get("/admin/support/tickets",l(a()))).map(s=>{var y,r;return{id:String(s.id),user:((y=s.user)==null?void 0:y.email)||"Unknown",subject:s.subject,status:s.status,priority:s.priority==="normal"?"medium":s.priority,created_at:s.created_at,updated_at:s.updated_at,messages:((r=s.messages)==null?void 0:r.map(d=>({sender:d.is_admin_reply?"support":"client",text:d.message,time:d.created_at,attachment_url:d.attachment_url,attachment_name:d.attachment_name})))||[]}})}),m=i({mutationFn:async({id:c,message:s,attachment:y})=>{const r=new FormData;return r.append("message",s),y&&r.append("attachment",y),t.post(`/admin/support/tickets/${c}/reply`,g,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}}),p=i({mutationFn:async({id:c,status:s})=>t.post(`/admin/support/tickets/${c}/status`,g,{status:s}),onSuccess:()=>e.invalidateQueries({queryKey:["admin","tickets"]})}),q=i({mutationFn:async c=>{await t.delete(`/admin/support/tickets/${c}`,g)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}});return{...n,replyTicket:m,updateStatus:p,deleteTicket:q}}function R(e){return u({queryKey:["admin","payment-gateways",e],queryFn:async()=>{const n=e?"/admin/payment-gateways?refresh=true":"/admin/payment-gateways";return t.get(n,a())}})}function U(){return u({queryKey:["blog","posts"],queryFn:async()=>t.get("/blog",l(a()))})}function j(e){return u({queryKey:["blog","post",e],queryFn:async()=>t.get(`/blog/${e}`,a()),enabled:!!e})}function E(){return u({queryKey:["admin","blog"],queryFn:async()=>t.get("/admin/blog",l(a()))})}function I(){const e=o();return i({mutationFn:n=>t.post("/admin/blog",a(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function G(){const e=o();return i({mutationFn:({id:n,data:m})=>t.put(`/admin/blog/${n}`,a(),m),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function M(){const e=o();return i({mutationFn:n=>t.delete(`/admin/blog/${n}`,a()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function z(){const e=o();return i({mutationFn:({id:n,is_draft:m})=>t.post(`/admin/blog/${n}/publish`,a(),{is_draft:m}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]})}})}function H(){return u({queryKey:["admin","blog","automation"],queryFn:()=>t.get("/admin/blog/automation",a())})}function L(){const e=o();return i({mutationFn:n=>t.post("/admin/blog/automation/settings",a(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function J(){const e=o();return i({mutationFn:n=>t.post("/admin/blog/automation/keywords",a(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function N(){const e=o();return i({mutationFn:n=>t.delete(`/admin/blog/automation/keywords/${n}`,a()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function O(){const e=o();return i({mutationFn:n=>t.post("/admin/blog/automation/trigger",a(),n||{}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]}),e.invalidateQueries({queryKey:["admin","blog","automation"]})}})}function V(){return u({queryKey:["admin","alerts","config"],queryFn:async()=>t.get("/admin/alerts/config",a())})}function W(){const e=o();return i({mutationFn:n=>t.patch("/admin/alerts/config",a(),n),onSuccess:()=>e.invalidateQueries({queryKey:["admin","alerts","config"]})})}function X(e){return u({queryKey:["admin","fraud","signals",e],queryFn:async()=>{const n=e!==void 0?`/admin/fraud/signals?resolved=${e}`:"/admin/fraud/signals";return t.get(n,l(a()))}})}function Y(){return u({queryKey:["admin","fraud","risk-scores"],queryFn:async()=>t.get("/admin/fraud/risk-scores",l(a()))})}function Z(){return u({queryKey:["admin","fraud","login-history"],queryFn:async()=>t.get("/admin/fraud/login-history",l(a()))})}function ee(){const e=o();return i({mutationFn:n=>t.put(`/admin/fraud/signals/${n}/resolve`,a()),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","fraud","signals"]}),e.invalidateQueries({queryKey:["admin-stats"]})}})}function te(){return u({queryKey:["admin","referrals","stats"],queryFn:async()=>t.get("/admin/referrals/stats",a())})}function ne(e){return u({queryKey:["admin","referrals","earnings",e],queryFn:async()=>{const n=e?`/admin/referrals/earnings?status=${e}`:"/admin/referrals/earnings";return t.get(n,a())}})}function ae(){const e=o();return i({mutationFn:async n=>t.post("/admin/referrals/influencer-rate",g,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","referrals","stats"]})}})}export{X as A,Y as B,Z as C,ee as D,te as E,ne as F,ae as G,j as a,A as b,h as c,$ as d,T as e,B as f,_ as g,P as h,x as i,w as j,C as k,E as l,I as m,G as n,M as o,z as p,H as q,L as r,J as s,N as t,U as u,O as v,V as w,W as x,R as y,D as z};
