import{j as e,x as r,I as N}from"./ui-V9IBRnwv.js";import{ap as E,r as d,L as g,aB as T,ae as k,aC as B,aD as D,E as R,aw as M,am as b}from"./vendor-BStcUzUB.js";import{S as _}from"./SEOHead-BO-qrSr0.js";import{C as A,a as U,c as z}from"./card-fchrRgkf.js";import{T as G,a as H,b as w,c as o,d as O,e as c}from"./table-CS8YR60F.js";import{I,B as y,t as $}from"./index-D4GBEa5a.js";import{g as Y}from"./use-backend-CeJEJahb.js";import"./useMutation-CydEMz8w.js";const F={"core-residential":"Core Residential","static-residential":"Static Residential","premium-residential":"Premium Residential",datacenter:"Datacenter Proxies",mobile:"Mobile Proxies"},V={"core-residential":"rp",mobile:"mp","static-residential":"isp",datacenter:"dc","premium-residential":"rp"};function se(){const{type:a}=E(),v=a?V[a]||a:null,{data:x,isLoading:C}=Y(v),[i,L]=d.useState(""),[m,p]=d.useState("table"),h=a?F[a]||"Proxies":"All Proxies",u=d.useMemo(()=>x?x.flatMap(s=>(s.proxies||[]).map(t=>{var l;return{...t,product_name:((l=s.product)==null?void 0:l.name)||"Unknown",expires_at:s.expires_at}})):[],[x]),n=d.useMemo(()=>{if(!i)return u;const s=i.toLowerCase();return u.filter(t=>t.host.toLowerCase().includes(s)||t.username.toLowerCase().includes(s)||t.country.toLowerCase().includes(s))},[u,i]),f=s=>{const t=N(s);navigator.clipboard.writeText(t),$({title:"Copied",description:"Proxy credentials copied to clipboard."})},P=()=>{const s=n.map(S=>N(S)).join(`
`),t=new Blob([s],{type:"text/plain"}),l=URL.createObjectURL(t),j=document.createElement("a");j.href=l,j.download=`${a||"proxies"}-export.txt`,j.click(),URL.revokeObjectURL(l)};return e.jsxs(e.Fragment,{children:[e.jsx(_,{title:h,noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Manage and export your ",h.toLowerCase()," list."]})]}),e.jsx(r,{asChild:!0,children:e.jsxs(g,{to:"/app/proxies/generate",className:"gap-2",children:[e.jsx(T,{className:"h-4 w-4"})," Generate New"]})})]}),e.jsxs(A,{children:[e.jsx(U,{className:"pb-3 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative max-w-sm w-full",children:[e.jsx(k,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search by host, user, or country...",className:"pl-9",value:i,onChange:s=>L(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md p-1 bg-muted/50",children:[e.jsx(r,{variant:m==="table"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p("table"),children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(r,{variant:m==="grid"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p("grid"),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:P,disabled:n.length===0,className:"gap-2",children:[e.jsx(R,{className:"h-4 w-4"})," Export All"]})]})]})}),e.jsx(z,{className:"p-0",children:C?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(M,{className:"h-8 w-8 animate-spin text-primary"})}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center text-muted-foreground",children:[e.jsx("p",{children:"No proxies found matching your criteria."}),!i&&e.jsx(r,{variant:"link",asChild:!0,className:"mt-2",children:e.jsx(g,{to:"/app/proxies/generate",children:"Generate your first batch now"})})]}):m==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(G,{children:[e.jsx(H,{children:e.jsxs(w,{children:[e.jsx(o,{children:"Location"}),e.jsx(o,{children:"Host:Port"}),e.jsx(o,{children:"Auth"}),e.jsx(o,{children:"Expires"}),e.jsx(o,{className:"text-right",children:"Action"})]})}),e.jsx(O,{children:n.map((s,t)=>e.jsxs(w,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg leading-none",title:s.country,children:s.country==="US"?"ðŸ‡ºðŸ‡¸":s.country==="GB"?"ðŸ‡¬ðŸ‡§":s.country==="DE"?"ðŸ‡©ðŸ‡ª":"ðŸŒ"}),e.jsx("span",{className:"text-sm font-medium",children:s.country})]})}),e.jsxs(c,{className:"font-mono text-xs",children:[s.host,":",s.port]}),e.jsxs(c,{className:"font-mono text-xs max-w-[150px] truncate",title:`${s.username}:${s.password}`,children:[s.username,":",s.password]}),e.jsx(c,{children:e.jsx(y,{variant:"outline",className:"text-[10px] font-normal",children:new Date(s.expires_at).toLocaleDateString()})}),e.jsx(c,{className:"text-right",children:e.jsx(r,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(s),children:e.jsx(b,{className:"h-4 w-4"})})})]},t))})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:n.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-3 space-y-2 bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:s.country==="US"?"ðŸ‡ºðŸ‡¸":s.country==="GB"?"ðŸ‡¬ðŸ‡§":"ðŸŒ"}),e.jsx(y,{variant:"secondary",className:"text-[10px] uppercase font-bold",children:a||"Proxy"})]}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f(s),children:e.jsx(b,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"font-mono text-xs p-2 bg-muted rounded truncate",children:[s.host,":",s.port]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:["Expires: ",new Date(s.expires_at).toLocaleDateString()]}),e.jsx("span",{children:s.city||"Any City"})]})]},t))})})]})]})]})}export{se as default};
