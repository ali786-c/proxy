import{j as e,x as C}from"./ui-DhchgSRK.js";import{S as R}from"./SEOHead-BP3rV7mN.js";import{C as l,c as i,a as _,b as k}from"./card-ClKFnvWz.js";import{b as H,S as o,T as S,n as E,p as U,q as M,I as L,B as P,t as B}from"./index-DuS-nlxc.js";import{j as $}from"./use-backend-B1XL4St6.js";import{T as I,a as G,b as p,c as u}from"./tabs-qgUyMCni.js";import{T as f,a as N,b as n,c as r,d as g,e as t}from"./table-BODbY_8L.js";import{U as y,E as O,ay as q,as as z,s as A,am as F,aK as b,aC as J}from"./vendor-Dios4bpT.js";import{f as w}from"./format-sbWH3_uq.js";import"./useMutation-CPKpAlH6.js";function ae(){const{data:a,isLoading:T}=$(),{format:c}=H(),x=(a==null?void 0:a.referral_code)||"Loading...",d=(a==null?void 0:a.stats)||{total_referrals:0,total_earned:0,pending_amount:0},m=(a==null?void 0:a.earnings)||[],h=(a==null?void 0:a.referred_users)||[],v=()=>{const s=`${window.location.origin}/signup?ref=${x}`;navigator.clipboard.writeText(s),B({title:"Copied!",description:"Referral link copied to clipboard"})};return T?e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{className:"h-10 w-48"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:[1,2,3].map(s=>e.jsx(o,{className:"h-32 w-full"},s))}),e.jsx(o,{className:"h-40 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Referral Program",noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Referral Program"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn commissions by inviting new users. Get 10% of their top-ups and purchases!"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(l,{children:e.jsxs(i,{className:"pt-6 text-center",children:[e.jsx(y,{className:"h-8 w-8 mx-auto text-primary"}),e.jsx("p",{className:"mt-2 text-2xl font-bold",children:d.total_referrals}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Referred Users"})]})}),e.jsx(l,{children:e.jsxs(i,{className:"pt-6 text-center",children:[e.jsx(O,{className:"h-8 w-8 mx-auto text-success"}),e.jsx("p",{className:"mt-2 text-2xl font-bold",children:c(d.total_earned)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earned"})]})}),e.jsx(l,{children:e.jsxs(i,{className:"pt-6 text-center relative",children:[e.jsx(S,{children:e.jsxs(E,{children:[e.jsx(U,{asChild:!0,children:e.jsx("div",{className:"absolute top-2 right-2 cursor-help text-muted-foreground/50 hover:text-muted-foreground",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(M,{children:e.jsx("p",{className:"text-xs",children:"Commissions are held for 14 days for security verification before being released to your wallet."})})]})}),e.jsx(z,{className:"h-8 w-8 mx-auto text-warning"}),e.jsx("p",{className:"mt-2 text-2xl font-bold",children:c(d.pending_amount)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Commission"})]})})]}),e.jsxs(l,{children:[e.jsx(_,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"})," Your Referral Link"]})}),e.jsxs(i,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{readOnly:!0,value:`${window.location.origin}/signup?ref=${x}`,className:"font-mono text-sm bg-muted/50"}),e.jsxs(C,{onClick:v,className:"gap-1.5 shrink-0",children:[e.jsx(F,{className:"h-4 w-4"})," Copy"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Share this link and earn 10% commission on every purchase made by referred users."})]})]}),e.jsxs(I,{defaultValue:"earnings",className:"w-full",children:[e.jsxs(G,{className:"grid w-full grid-cols-2 max-w-[400px]",children:[e.jsxs(p,{value:"earnings",className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4"})," Earning History"]}),e.jsxs(p,{value:"referred",className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"})," Referred Users"]})]}),e.jsx(u,{value:"earnings",children:e.jsx(l,{children:e.jsx(i,{className:"p-0",children:m.length>0?e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(n,{children:[e.jsx(r,{children:"Date"}),e.jsx(r,{children:"User"}),e.jsx(r,{children:"Description"}),e.jsx(r,{className:"text-right",children:"Amount"}),e.jsx(r,{className:"text-center",children:"Status"})]})}),e.jsx(g,{children:m.map(s=>{var j;return e.jsxs(n,{children:[e.jsx(t,{className:"text-xs",children:w(new Date(s.date),"MMM dd, yyyy HH:mm")}),e.jsx(t,{className:"font-medium text-xs",children:(j=s.referred_user)==null?void 0:j.name}),e.jsx(t,{className:"text-xs",children:s.description}),e.jsx(t,{className:"text-right font-bold text-success",children:c(s.amount)}),e.jsx(t,{className:"text-center",children:e.jsx(P,{variant:"outline",className:"capitalize text-[10px] h-5",children:s.status})})]},s.id)})})]}):e.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[e.jsx(b,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No earnings yet. Share your link to start earning!"})]})})})}),e.jsx(u,{value:"referred",children:e.jsx(l,{children:e.jsx(i,{className:"p-0",children:h.length>0?e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(n,{children:[e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Email"}),e.jsx(r,{className:"text-right",children:"Joined Date"})]})}),e.jsx(g,{children:h.map(s=>e.jsxs(n,{children:[e.jsx(t,{className:"font-medium text-xs font-mono",children:s.name}),e.jsx(t,{className:"text-xs",children:s.email}),e.jsx(t,{className:"text-right text-xs",children:w(new Date(s.joined_at),"MMM dd, yyyy")})]},s.id))})]}):e.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[e.jsx(y,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No referred users yet."})]})})})})]})]})]})}export{ae as default};
