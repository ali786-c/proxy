import{j as e,x as r,I as N}from"./ui-DhchgSRK.js";import{ap as S,r as d,L as g,aB as E,ac as T,aC as k,aD as B,D as _,aw as M,am as b}from"./vendor-Dios4bpT.js";import{S as U}from"./SEOHead-DIKYs5Xv.js";import{C as A,a as R,c as z}from"./card-ClKFnvWz.js";import{T as G,a as H,b as w,c as o,d as I,e as l}from"./table-BODbY_8L.js";import{I as O,B as y,t as $}from"./index-Ij9xptBm.js";import{g as Y}from"./use-backend-dZY_14_a.js";import"./useMutation-CJWzbuzB.js";const F={residential:"Residential Proxies",datacenter:"Datacenter Proxies",mobile:"Mobile Proxies","datacenter-ipv6":"Datacenter IPv6","datacenter-unmetered":"Datacenter Unmetered"},V={residential:"rp",mobile:"mp",datacenter:"dc","datacenter-ipv6":"dc_ipv6","datacenter-unmetered":"dc_unmetered"};function se(){const{type:a}=S(),v=a?V[a]||a:null,{data:x,isLoading:C}=Y(v),[n,L]=d.useState(""),[m,p]=d.useState("table"),h=a?F[a]||"Proxies":"All Proxies",u=d.useMemo(()=>x?x.flatMap(s=>(s.proxies||[]).map(t=>{var c;return{...t,product_name:((c=s.product)==null?void 0:c.name)||"Unknown",expires_at:s.expires_at}})):[],[x]),i=d.useMemo(()=>{if(!n)return u;const s=n.toLowerCase();return u.filter(t=>t.host.toLowerCase().includes(s)||t.username.toLowerCase().includes(s)||t.country.toLowerCase().includes(s))},[u,n]),f=s=>{const t=N(s);navigator.clipboard.writeText(t),$({title:"Copied",description:"Proxy credentials copied to clipboard."})},P=()=>{const s=i.map(D=>N(D)).join(`
`),t=new Blob([s],{type:"text/plain"}),c=URL.createObjectURL(t),j=document.createElement("a");j.href=c,j.download=`${a||"proxies"}-export.txt`,j.click(),URL.revokeObjectURL(c)};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:h,noindex:!0}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Manage and export your ",h.toLowerCase()," list."]})]}),e.jsx(r,{asChild:!0,children:e.jsxs(g,{to:"/app/proxies/generate",className:"gap-2",children:[e.jsx(E,{className:"h-4 w-4"})," Generate New"]})})]}),e.jsxs(A,{children:[e.jsx(R,{className:"pb-3 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative max-w-sm w-full",children:[e.jsx(T,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(O,{placeholder:"Search by host, user, or country...",className:"pl-9",value:n,onChange:s=>L(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md p-1 bg-muted/50",children:[e.jsx(r,{variant:m==="table"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p("table"),children:e.jsx(k,{className:"h-4 w-4"})}),e.jsx(r,{variant:m==="grid"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p("grid"),children:e.jsx(B,{className:"h-4 w-4"})})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:P,disabled:i.length===0,className:"gap-2",children:[e.jsx(_,{className:"h-4 w-4"})," Export All"]})]})]})}),e.jsx(z,{className:"p-0",children:C?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(M,{className:"h-8 w-8 animate-spin text-primary"})}):i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center text-muted-foreground",children:[e.jsx("p",{children:"No proxies found matching your criteria."}),!n&&e.jsx(r,{variant:"link",asChild:!0,className:"mt-2",children:e.jsx(g,{to:"/app/proxies/generate",children:"Generate your first batch now"})})]}):m==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(G,{children:[e.jsx(H,{children:e.jsxs(w,{children:[e.jsx(o,{children:"Location"}),e.jsx(o,{children:"Host:Port"}),e.jsx(o,{children:"Auth"}),e.jsx(o,{children:"Expires"}),e.jsx(o,{className:"text-right",children:"Action"})]})}),e.jsx(I,{children:i.map((s,t)=>e.jsxs(w,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg leading-none",title:s.country,children:s.country==="US"?"ðŸ‡ºðŸ‡¸":s.country==="GB"?"ðŸ‡¬ðŸ‡§":s.country==="DE"?"ðŸ‡©ðŸ‡ª":"ðŸŒ"}),e.jsx("span",{className:"text-sm font-medium",children:s.country})]})}),e.jsxs(l,{className:"font-mono text-xs",children:[s.host,":",s.port]}),e.jsxs(l,{className:"font-mono text-xs max-w-[150px] truncate",title:`${s.username}:${s.password}`,children:[s.username,":",s.password]}),e.jsx(l,{children:e.jsx(y,{variant:"outline",className:"text-[10px] font-normal",children:new Date(s.expires_at).toLocaleDateString()})}),e.jsx(l,{className:"text-right",children:e.jsx(r,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(s),children:e.jsx(b,{className:"h-4 w-4"})})})]},t))})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:i.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-3 space-y-2 bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:s.country==="US"?"ðŸ‡ºðŸ‡¸":s.country==="GB"?"ðŸ‡¬ðŸ‡§":"ðŸŒ"}),e.jsx(y,{variant:"secondary",className:"text-[10px] uppercase font-bold",children:a||"Proxy"})]}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f(s),children:e.jsx(b,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"font-mono text-xs p-2 bg-muted rounded truncate",children:[s.host,":",s.port]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:["Expires: ",new Date(s.expires_at).toLocaleDateString()]}),e.jsx("span",{children:s.city||"Any City"})]})]},t))})})]})]})]})}export{se as default};
