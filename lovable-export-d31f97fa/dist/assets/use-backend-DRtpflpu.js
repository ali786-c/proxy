import{k as u,j as o,y as n,z as a,M as q,P as K,U as F,A as m,E as S,C as v,D as b,c as f}from"./index-CAWea6oy.js";import{u as i}from"./useMutation-DCyZWKD8.js";function h(){const e=o();return i({mutationFn:async t=>n.post("/profile",q,t),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["profile-info"]})}})}function C(){return u({queryKey:["stats"],queryFn:async()=>n.get("/stats",a()),refetchInterval:1e3*60*5})}function A(e="7d"){return u({queryKey:["usage",e],queryFn:async()=>n.get(`/me/usage?range=${encodeURIComponent(e)}`,F),staleTime:1e3*60*5})}function P(){return u({queryKey:["events"],queryFn:async()=>n.get("/me/events",m(S))})}function _(){return u({queryKey:["invoices"],queryFn:async()=>n.get("/invoices",m(v))})}function w(){const e=o(),t=u({queryKey:["tickets"],queryFn:async()=>(await n.get("/support/tickets",m(a()))).map(s=>{var y;return{...s,messages:((y=s.messages)==null?void 0:y.map(r=>({...r,sender:r.is_admin_reply?"support":"client",text:r.message,time:r.created_at,attachment_url:r.attachment_url,attachment_name:r.attachment_name})))||[]}})}),d=i({mutationFn:async({subject:c,message:s,priority:y,attachment:r})=>{const l=new FormData;return l.append("subject",c),l.append("message",s),l.append("priority",y),r&&l.append("attachment",r),n.post("/support/tickets",a(),l)},onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})}),g=i({mutationFn:async({id:c,message:s,attachment:y})=>{const r=new FormData;return r.append("message",s),y&&r.append("attachment",y),n.post(`/support/tickets/${c}/reply`,a(),r)},onSuccess:()=>{e.invalidateQueries({queryKey:["tickets"]}),e.invalidateQueries({queryKey:["admin","tickets"]})}}),p=i({mutationFn:async({id:c,status:s})=>n.post(`/admin/support/tickets/${c}/status`,a(),{status:s}),onSuccess:()=>e.invalidateQueries({queryKey:["tickets"]})});return{...t,createTicket:d,replyTicket:g,updateStatus:p}}function $(){return u({queryKey:["products"],queryFn:async()=>n.get("/products",m(b))})}function B(){const e=o();return i({mutationFn:async t=>n.post("/proxies/generate",K,t),onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["subuser-status"]})}})}function R(){return u({queryKey:["proxy-settings"],queryFn:async()=>f.getProxySettings(),staleTime:1e3*60*60})}function T(){return u({queryKey:["referrals"],queryFn:async()=>f.getReferralStats()})}function U(){const e=o(),t=u({queryKey:["admin","tickets"],queryFn:async()=>(await n.get("/admin/support/tickets",m(a()))).map(s=>{var y,r;return{id:String(s.id),user:((y=s.user)==null?void 0:y.email)||"Unknown",subject:s.subject,status:s.status,priority:s.priority==="normal"?"medium":s.priority,created_at:s.created_at,updated_at:s.updated_at,messages:((r=s.messages)==null?void 0:r.map(l=>({sender:l.is_admin_reply?"support":"client",text:l.message,time:l.created_at,attachment_url:l.attachment_url,attachment_name:l.attachment_name})))||[]}})}),d=i({mutationFn:async({id:c,message:s,attachment:y})=>{const r=new FormData;return r.append("message",s),y&&r.append("attachment",y),n.post(`/admin/support/tickets/${c}/reply`,q,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}}),g=i({mutationFn:async({id:c,status:s})=>n.post(`/admin/support/tickets/${c}/status`,q,{status:s}),onSuccess:()=>e.invalidateQueries({queryKey:["admin","tickets"]})}),p=i({mutationFn:async c=>{await n.delete(`/admin/support/tickets/${c}`,q)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","tickets"]}),e.invalidateQueries({queryKey:["tickets"]})}});return{...t,replyTicket:d,updateStatus:g,deleteTicket:p}}function x(e){return u({queryKey:["admin","payment-gateways",e],queryFn:async()=>{const t=e?"/admin/payment-gateways?refresh=true":"/admin/payment-gateways";return n.get(t,a())}})}function D(){return u({queryKey:["blog","posts"],queryFn:async()=>n.get("/blog",m(a()))})}function j(e){return u({queryKey:["blog","post",e],queryFn:async()=>n.get(`/blog/${e}`,a()),enabled:!!e})}function E(){return u({queryKey:["admin","blog"],queryFn:async()=>n.get("/admin/blog",m(a()))})}function I(){const e=o();return i({mutationFn:t=>n.post("/admin/blog",a(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function G(){const e=o();return i({mutationFn:({id:t,data:d})=>n.put(`/admin/blog/${t}`,a(),d),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function M(){const e=o();return i({mutationFn:t=>n.delete(`/admin/blog/${t}`,a()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog"]})})}function z(){const e=o();return i({mutationFn:({id:t,is_draft:d})=>n.post(`/admin/blog/${t}/publish`,a(),{is_draft:d}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]})}})}function L(){return u({queryKey:["admin","blog","automation"],queryFn:()=>n.get("/admin/blog/automation",a())})}function H(){const e=o();return i({mutationFn:t=>n.post("/admin/blog/automation/settings",a(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function J(){const e=o();return i({mutationFn:t=>n.post("/admin/blog/automation/keywords",a(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function N(){const e=o();return i({mutationFn:t=>n.delete(`/admin/blog/automation/keywords/${t}`,a()),onSuccess:()=>e.invalidateQueries({queryKey:["admin","blog","automation"]})})}function O(){const e=o();return i({mutationFn:t=>n.post("/admin/blog/automation/trigger",a(),t||{}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","blog"]}),e.invalidateQueries({queryKey:["blog","posts"]}),e.invalidateQueries({queryKey:["admin","blog","automation"]})}})}function V(){return u({queryKey:["admin","alerts","config"],queryFn:async()=>n.get("/admin/alerts/config",a())})}function W(){const e=o();return i({mutationFn:t=>n.patch("/admin/alerts/config",a(),t),onSuccess:()=>e.invalidateQueries({queryKey:["admin","alerts","config"]})})}function X(e){return u({queryKey:["admin","fraud","signals",e],queryFn:async()=>{const t=e!==void 0?`/admin/fraud/signals?resolved=${e}`:"/admin/fraud/signals";return n.get(t,m(a()))}})}function Y(){return u({queryKey:["admin","fraud","risk-scores"],queryFn:async()=>n.get("/admin/fraud/risk-scores",m(a()))})}function Z(){return u({queryKey:["admin","fraud","login-history"],queryFn:async()=>n.get("/admin/fraud/login-history",m(a()))})}function ee(){const e=o();return i({mutationFn:t=>n.put(`/admin/fraud/signals/${t}/resolve`,a()),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","fraud","signals"]}),e.invalidateQueries({queryKey:["admin-stats"]})}})}function te(){return u({queryKey:["admin","referrals","stats"],queryFn:async()=>n.get("/admin/referrals/stats",a())})}function ne(e,t=1){return u({queryKey:["admin","referrals","earnings",e,t],queryFn:async()=>{const d=new URLSearchParams;e&&d.append("status",e),t>1&&d.append("page",t.toString());const g=d.toString(),p=g?`/admin/referrals/earnings?${g}`:"/admin/referrals/earnings";return n.get(p,a())}})}function ae(){const e=o();return i({mutationFn:async t=>n.post("/admin/referrals/influencer-rate",q,t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","referrals","stats"]})}})}export{X as A,Y as B,Z as C,ee as D,te as E,ne as F,ae as G,j as a,A as b,C as c,$ as d,R as e,B as f,P as g,_ as h,T as i,w as j,h as k,E as l,I as m,G as n,M as o,z as p,L as q,H as r,J as s,N as t,D as u,O as v,V as w,W as x,x as y,U as z};
